     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_timer_alloc
     9 00000000                                 	EXTERN	_timer_init
    10 00000000                                 	EXTERN	_timer_settime
    11 00000000                                 	EXTERN	_file_readfat
    12 00000000                                 	EXTERN	_io_cli
    13 00000000                                 	EXTERN	_fifo32_status
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_boxfill8
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_task_sleep
    19 00000000                                 	EXTERN	_putfonts8_asc_sht
    20 00000000                                 	EXTERN	_memman_total
    21 00000000                                 	EXTERN	_sprintf
    22 00000000                                 	EXTERN	_timer_cancel
    23 00000000                                 	EXTERN	_memman_free_4k
    24 00000000                                 	EXTERN	_fifo32_put
    25 00000000                                 	EXTERN	_taskctl
    26 00000000                                 	EXTERN	_open_console
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_open_constask
    30 00000000                                 	EXTERN	_file_search
    31 00000000                                 	EXTERN	_file_loadfile2
    32 00000000                                 	EXTERN	_set_segmdesc
    33 00000000                                 	EXTERN	_start_app
    34 00000000                                 	EXTERN	_timer_cancelall
    35 00000000                                 	EXTERN	_sheet_free
    36 00000000                                 	EXTERN	_unTlock
    37 00000000                                 	EXTERN	_Tlock
    38 00000000                                 	EXTERN	_avoid_sleep
    39 00000000                                 	EXTERN	_var_free
    40 00000000                                 	EXTERN	_var_wrt
    41 00000000                                 	EXTERN	_var_read
    42 00000000                                 	EXTERN	_var_create
    43 00000000                                 	EXTERN	_io_in8
    44 00000000                                 	EXTERN	_io_out8
    45 00000000                                 	EXTERN	_timer_free
    46 00000000                                 	EXTERN	_memman_free
    47 00000000                                 	EXTERN	_memman_alloc
    48 00000000                                 	EXTERN	_memman_init
    49 00000000                                 	EXTERN	_putfonts8_asc
    50 00000000                                 	EXTERN	_sheet_alloc
    51 00000000                                 	EXTERN	_sheet_setbuf
    52 00000000                                 	EXTERN	_make_window8
    53 00000000                                 	EXTERN	_io_load_eflags
    54 00000000                                 	EXTERN	_io_store_eflags
    55 00000000                                 	EXTERN	_task_run
    56 00000000                                 	EXTERN	_mutex
    57 00000000                                 	EXTERN	_wrt
    58 00000000                                 	EXTERN	_readcount
    59 00000000                                 	EXTERN	_share_bupt
    60 00000000                                 	EXTERN	_strcpy
    61 00000000                                 	EXTERN	_rand
    62 00000000                                 [FILE "console.c"]
    63 00000000                                 	GLOBAL	_num
    64                                          [SECTION .data]
    65 00000000                                 	ALIGNB	4
    66 00000000                                 _num:
    67 00000000 00000000                        	DD	0
    68                                          [SECTION .text]
    69 00000000                                 	GLOBAL	_console_task
    70 00000000                                 _console_task:
    71 00000000 55                              	PUSH	EBP
    72 00000001 89 E5                           	MOV	EBP,ESP
    73 00000003 57                              	PUSH	EDI
    74 00000004 56                              	PUSH	ESI
    75 00000005 53                              	PUSH	EBX
    76 00000006 81 EC 000000AC                  	SUB	ESP,172
    77 0000000C 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    78 0000000F E8 [00000000]                   	CALL	_task_now
    79 00000014 68 00002D00                     	PUSH	11520
    80 00000019 89 C7                           	MOV	EDI,EAX
    81 0000001B 68 003C0000                     	PUSH	3932160
    82 00000020 E8 [00000000]                   	CALL	_memman_alloc_4k
    83 00000025 85 DB                           	TEST	EBX,EBX
    84 00000027 89 5D D4                        	MOV	DWORD [-44+EBP],EBX
    85 0000002A 89 85 FFFFFF50                  	MOV	DWORD [-176+EBP],EAX
    86 00000030 A1 00000FE8                     	MOV	EAX,DWORD [4072]
    87 00000035 89 85 FFFFFF4C                  	MOV	DWORD [-180+EBP],EAX
    88 0000003B 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
    89 0000003E 89 87 000000A4                  	MOV	DWORD [164+EDI],EAX
    90 00000044 8D 85 FFFFFF54                  	LEA	EAX,DWORD [-172+EBP]
    91 0000004A 89 87 000000B8                  	MOV	DWORD [184+EDI],EAX
    92 00000050 59                              	POP	ECX
    93 00000051 C7 45 D8 00000008               	MOV	DWORD [-40+EBP],8
    94 00000058 C7 45 DC 0000001C               	MOV	DWORD [-36+EBP],28
    95 0000005F C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
    96 00000066 5E                              	POP	ESI
    97 00000067 74 21                           	JE	L2
    98 00000069 E8 [00000000]                   	CALL	_timer_alloc
    99 0000006E 8D 57 10                        	LEA	EDX,DWORD [16+EDI]
   100 00000071 6A 01                           	PUSH	1
   101 00000073 52                              	PUSH	EDX
   102 00000074 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
   103 00000077 50                              	PUSH	EAX
   104 00000078 E8 [00000000]                   	CALL	_timer_init
   105 0000007D 6A 32                           	PUSH	50
   106 0000007F FF 75 E4                        	PUSH	DWORD [-28+EBP]
   107 00000082 E8 [00000000]                   	CALL	_timer_settime
   108 00000087 83 C4 14                        	ADD	ESP,20
   109 0000008A                                 L2:
   110 0000008A 68 00100200                     	PUSH	1049088
   111 0000008F BE 00000007                     	MOV	ESI,7
   112 00000094 FF B5 FFFFFF50                  	PUSH	DWORD [-176+EBP]
   113 0000009A E8 [00000000]                   	CALL	_file_readfat
   114 0000009F 58                              	POP	EAX
   115 000000A0 5A                              	POP	EDX
   116 000000A1 31 C0                           	XOR	EAX,EAX
   117 000000A3                                 L7:
   118 000000A3 C7 84 05 FFFFFF74 00000000      	MOV	DWORD [-140+EBP+EAX*1],0
   119 000000AE 83 C0 0C                        	ADD	EAX,12
   120 000000B1 4E                              	DEC	ESI
   121 000000B2 79 EF                           	JNS	L7
   122 000000B4 8B 8D FFFFFF50                  	MOV	ECX,DWORD [-176+EBP]
   123 000000BA 8B 9D FFFFFF4C                  	MOV	EBX,DWORD [-180+EBP]
   124 000000C0 8D 85 FFFFFF74                  	LEA	EAX,DWORD [-140+EBP]
   125 000000C6 89 8F 000000B4                  	MOV	DWORD [180+EDI],ECX
   126 000000CC 89 87 000000B0                  	MOV	DWORD [176+EDI],EAX
   127 000000D2 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   128 000000D5 80 BB 00001000 FF               	CMP	BYTE [4096+EBX],-1
   129 000000DC C6 87 000000BD 00               	MOV	BYTE [189+EDI],0
   130 000000E3 0F 95 87 000000BC               	SETNE	BYTE [188+EDI]
   131 000000EA 6A 01                           	PUSH	1
   132 000000EC 6A 3E                           	PUSH	62
   133 000000EE 50                              	PUSH	EAX
   134 000000EF E8 0000023B                     	CALL	_cons_putchar
   135 000000F4 83 C4 0C                        	ADD	ESP,12
   136 000000F7                                 L10:
   137 000000F7 8D 5F 10                        	LEA	EBX,DWORD [16+EDI]
   138 000000FA E8 [00000000]                   	CALL	_io_cli
   139 000000FF 53                              	PUSH	EBX
   140 00000100 E8 [00000000]                   	CALL	_fifo32_status
   141 00000105 5E                              	POP	ESI
   142 00000106 85 C0                           	TEST	EAX,EAX
   143 00000108 0F 84 00000210                  	JE	L38
   144 0000010E 53                              	PUSH	EBX
   145 0000010F E8 [00000000]                   	CALL	_fifo32_get
   146 00000114 89 C6                           	MOV	ESI,EAX
   147 00000116 E8 [00000000]                   	CALL	_io_sti
   148 0000011B 59                              	POP	ECX
   149 0000011C 83 FE 01                        	CMP	ESI,1
   150 0000011F 0F 8E 000001A2                  	JLE	L39
   151 00000125                                 L15:
   152 00000125 83 FE 02                        	CMP	ESI,2
   153 00000128 0F 84 0000018D                  	JE	L40
   154 0000012E                                 L20:
   155 0000012E 83 FE 03                        	CMP	ESI,3
   156 00000131 0F 84 00000152                  	JE	L41
   157 00000137                                 L21:
   158 00000137 83 FE 04                        	CMP	ESI,4
   159 0000013A 0F 84 00000133                  	JE	L42
   160 00000140                                 L23:
   161 00000140 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
   162 00000146 89 85 FFFFFF48                  	MOV	DWORD [-184+EBP],EAX
   163 0000014C 3D 000000FF                     	CMP	EAX,255
   164 00000151 77 4E                           	JA	L24
   165 00000153 81 FE 00000108                  	CMP	ESI,264
   166 00000159 0F 84 000000F4                  	JE	L43
   167 0000015F 81 FE 0000010A                  	CMP	ESI,266
   168 00000165 0F 84 00000089                  	JE	L44
   169 0000016B 8B 4D D8                        	MOV	ECX,DWORD [-40+EBP]
   170 0000016E 81 F9 000000EF                  	CMP	ECX,239
   171 00000174 7F 2B                           	JG	L24
   172 00000176 89 C8                           	MOV	EAX,ECX
   173 00000178 BA 00000008                     	MOV	EDX,8
   174 0000017D 89 D3                           	MOV	EBX,EDX
   175 0000017F 6A 01                           	PUSH	1
   176 00000181 99                              	CDQ
   177 00000182 F7 FB                           	IDIV	EBX
   178 00000184 89 C1                           	MOV	ECX,EAX
   179 00000186 89 F0                           	MOV	EAX,ESI
   180 00000188 88 84 0D FFFFFF52               	MOV	BYTE [-174+EBP+ECX*1],AL
   181 0000018F 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   182 00000192 FF B5 FFFFFF48                  	PUSH	DWORD [-184+EBP]
   183 00000198 50                              	PUSH	EAX
   184 00000199                                 L36:
   185 00000199 E8 00000191                     	CALL	_cons_putchar
   186 0000019E                                 L37:
   187 0000019E 83 C4 0C                        	ADD	ESP,12
   188 000001A1                                 L24:
   189 000001A1 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   190 000001A4 85 DB                           	TEST	EBX,EBX
   191 000001A6 0F 84 FFFFFF4B                  	JE	L10
   192 000001AC 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   193 000001B0 78 22                           	JS	L33
   194 000001B2 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   195 000001B5 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   196 000001B8 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   197 000001BB 50                              	PUSH	EAX
   198 000001BC 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   199 000001BF 50                              	PUSH	EAX
   200 000001C0 51                              	PUSH	ECX
   201 000001C1 52                              	PUSH	EDX
   202 000001C2 0F B6 45 E0                     	MOVZX	EAX,BYTE [-32+EBP]
   203 000001C6 50                              	PUSH	EAX
   204 000001C7 FF 73 04                        	PUSH	DWORD [4+EBX]
   205 000001CA FF 33                           	PUSH	DWORD [EBX]
   206 000001CC E8 [00000000]                   	CALL	_boxfill8
   207 000001D1 83 C4 1C                        	ADD	ESP,28
   208 000001D4                                 L33:
   209 000001D4 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   210 000001D7 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   211 000001DA 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   212 000001DD 50                              	PUSH	EAX
   213 000001DE 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   214 000001E1 50                              	PUSH	EAX
   215 000001E2 51                              	PUSH	ECX
   216 000001E3 52                              	PUSH	EDX
   217 000001E4 FF 75 D4                        	PUSH	DWORD [-44+EBP]
   218 000001E7 E8 [00000000]                   	CALL	_sheet_refresh
   219 000001EC 83 C4 14                        	ADD	ESP,20
   220 000001EF E9 FFFFFF03                     	JMP	L10
   221 000001F4                                 L44:
   222 000001F4 6A 00                           	PUSH	0
   223 000001F6 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   224 000001F9 6A 20                           	PUSH	32
   225 000001FB 53                              	PUSH	EBX
   226 000001FC E8 0000012E                     	CALL	_cons_putchar
   227 00000201 53                              	PUSH	EBX
   228 00000202 8B 45 D8                        	MOV	EAX,DWORD [-40+EBP]
   229 00000205 BA 00000008                     	MOV	EDX,8
   230 0000020A 89 D1                           	MOV	ECX,EDX
   231 0000020C 99                              	CDQ
   232 0000020D F7 F9                           	IDIV	ECX
   233 0000020F C6 84 05 FFFFFF52 00            	MOV	BYTE [-174+EBP+EAX*1],0
   234 00000217 E8 000001C4                     	CALL	_cons_newline
   235 0000021C 8D 85 FFFFFF54                  	LEA	EAX,DWORD [-172+EBP]
   236 00000222 FF 75 0C                        	PUSH	DWORD [12+EBP]
   237 00000225 FF B5 FFFFFF50                  	PUSH	DWORD [-176+EBP]
   238 0000022B 53                              	PUSH	EBX
   239 0000022C 50                              	PUSH	EAX
   240 0000022D E8 000002F7                     	CALL	_cons_runcmd
   241 00000232 83 C4 20                        	ADD	ESP,32
   242 00000235 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   243 00000239 75 0E                           	JNE	L29
   244 0000023B FF B5 FFFFFF50                  	PUSH	DWORD [-176+EBP]
   245 00000241 53                              	PUSH	EBX
   246 00000242 E8 000006BD                     	CALL	_cmd_exit
   247 00000247 58                              	POP	EAX
   248 00000248 5A                              	POP	EDX
   249 00000249                                 L29:
   250 00000249 6A 01                           	PUSH	1
   251 0000024B 6A 3E                           	PUSH	62
   252 0000024D 53                              	PUSH	EBX
   253 0000024E E9 FFFFFF46                     	JMP	L36
   254 00000253                                 L43:
   255 00000253 83 7D D8 10                     	CMP	DWORD [-40+EBP],16
   256 00000257 0F 8E FFFFFF44                  	JLE	L24
   257 0000025D 6A 00                           	PUSH	0
   258 0000025F 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   259 00000262 6A 20                           	PUSH	32
   260 00000264 50                              	PUSH	EAX
   261 00000265 E8 000000C5                     	CALL	_cons_putchar
   262 0000026A 83 6D D8 08                     	SUB	DWORD [-40+EBP],8
   263 0000026E E9 FFFFFF2B                     	JMP	L37
   264 00000273                                 L42:
   265 00000273 FF B5 FFFFFF50                  	PUSH	DWORD [-176+EBP]
   266 00000279 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   267 0000027C 50                              	PUSH	EAX
   268 0000027D E8 00000682                     	CALL	_cmd_exit
   269 00000282 59                              	POP	ECX
   270 00000283 5B                              	POP	EBX
   271 00000284 E9 FFFFFEB7                     	JMP	L23
   272 00000289                                 L41:
   273 00000289 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   274 0000028C 85 DB                           	TEST	EBX,EBX
   275 0000028E 74 1F                           	JE	L22
   276 00000290 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   277 00000293 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   278 00000296 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   279 00000299 50                              	PUSH	EAX
   280 0000029A 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   281 0000029D 50                              	PUSH	EAX
   282 0000029E 51                              	PUSH	ECX
   283 0000029F 52                              	PUSH	EDX
   284 000002A0 6A 00                           	PUSH	0
   285 000002A2 FF 73 04                        	PUSH	DWORD [4+EBX]
   286 000002A5 FF 33                           	PUSH	DWORD [EBX]
   287 000002A7 E8 [00000000]                   	CALL	_boxfill8
   288 000002AC 83 C4 1C                        	ADD	ESP,28
   289 000002AF                                 L22:
   290 000002AF C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   291 000002B6 E9 FFFFFE7C                     	JMP	L21
   292 000002BB                                 L40:
   293 000002BB C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   294 000002C2 E9 FFFFFE67                     	JMP	L20
   295 000002C7                                 L39:
   296 000002C7 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   297 000002CB 0F 84 FFFFFE54                  	JE	L15
   298 000002D1 85 F6                           	TEST	ESI,ESI
   299 000002D3 74 2C                           	JE	L16
   300 000002D5 6A 00                           	PUSH	0
   301 000002D7 53                              	PUSH	EBX
   302 000002D8 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   303 000002DB E8 [00000000]                   	CALL	_timer_init
   304 000002E0 83 C4 0C                        	ADD	ESP,12
   305 000002E3 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   306 000002E7 78 07                           	JS	L18
   307 000002E9 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   308 000002F0                                 L18:
   309 000002F0 6A 32                           	PUSH	50
   310 000002F2 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   311 000002F5 E8 [00000000]                   	CALL	_timer_settime
   312 000002FA 58                              	POP	EAX
   313 000002FB 5A                              	POP	EDX
   314 000002FC E9 FFFFFE24                     	JMP	L15
   315 00000301                                 L16:
   316 00000301 6A 01                           	PUSH	1
   317 00000303 53                              	PUSH	EBX
   318 00000304 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   319 00000307 E8 [00000000]                   	CALL	_timer_init
   320 0000030C 83 C4 0C                        	ADD	ESP,12
   321 0000030F 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   322 00000313 78 DB                           	JS	L18
   323 00000315 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   324 0000031C EB D2                           	JMP	L18
   325 0000031E                                 L38:
   326 0000031E 57                              	PUSH	EDI
   327 0000031F E8 [00000000]                   	CALL	_task_sleep
   328 00000324 E8 [00000000]                   	CALL	_io_sti
   329 00000329 5B                              	POP	EBX
   330 0000032A E9 FFFFFDC8                     	JMP	L10
   331                                          [SECTION .data]
   332 00000004                                 LC0:
   333 00000004 20 00                           	DB	" ",0x00
   334                                          [SECTION .text]
   335 0000032F                                 	GLOBAL	_cons_putchar
   336 0000032F                                 _cons_putchar:
   337 0000032F 55                              	PUSH	EBP
   338 00000330 89 E5                           	MOV	EBP,ESP
   339 00000332 53                              	PUSH	EBX
   340 00000333 50                              	PUSH	EAX
   341 00000334 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   342 00000337 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   343 0000033A 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   344 0000033D 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   345 00000340 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   346 00000343 3C 09                           	CMP	AL,9
   347 00000345 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   348 00000349 74 4D                           	JE	L47
   349 0000034B 3C 0A                           	CMP	AL,10
   350 0000034D 74 25                           	JE	L61
   351 0000034F 3C 0D                           	CMP	AL,13
   352 00000351 74 1C                           	JE	L45
   353 00000353 8B 13                           	MOV	EDX,DWORD [EBX]
   354 00000355 85 D2                           	TEST	EDX,EDX
   355 00000357 75 24                           	JNE	L62
   356 00000359                                 L58:
   357 00000359 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   358 0000035D 74 10                           	JE	L45
   359 0000035F 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   360 00000362 83 C0 08                        	ADD	EAX,8
   361 00000365 89 43 04                        	MOV	DWORD [4+EBX],EAX
   362 00000368 3D 000001F8                     	CMP	EAX,504
   363 0000036D 74 05                           	JE	L61
   364 0000036F                                 L45:
   365 0000036F 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   366 00000372 C9                              	LEAVE
   367 00000373 C3                              	RET
   368 00000374                                 L61:
   369 00000374 53                              	PUSH	EBX
   370 00000375 E8 00000066                     	CALL	_cons_newline
   371 0000037A 58                              	POP	EAX
   372 0000037B EB F2                           	JMP	L45
   373 0000037D                                 L62:
   374 0000037D 6A 01                           	PUSH	1
   375 0000037F 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   376 00000382 50                              	PUSH	EAX
   377 00000383 6A 00                           	PUSH	0
   378 00000385 6A 07                           	PUSH	7
   379 00000387 FF 73 08                        	PUSH	DWORD [8+EBX]
   380 0000038A FF 73 04                        	PUSH	DWORD [4+EBX]
   381 0000038D 52                              	PUSH	EDX
   382 0000038E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   383 00000393 83 C4 1C                        	ADD	ESP,28
   384 00000396 EB C1                           	JMP	L58
   385 00000398                                 L47:
   386 00000398 8B 03                           	MOV	EAX,DWORD [EBX]
   387 0000039A 85 C0                           	TEST	EAX,EAX
   388 0000039C 75 26                           	JNE	L63
   389 0000039E                                 L50:
   390 0000039E 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   391 000003A1 83 C0 08                        	ADD	EAX,8
   392 000003A4 89 43 04                        	MOV	DWORD [4+EBX],EAX
   393 000003A7 3D 000001F8                     	CMP	EAX,504
   394 000003AC 74 0D                           	JE	L64
   395 000003AE                                 L51:
   396 000003AE 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   397 000003B1 83 E8 08                        	SUB	EAX,8
   398 000003B4 83 E0 1F                        	AND	EAX,31
   399 000003B7 75 DF                           	JNE	L47
   400 000003B9 EB B4                           	JMP	L45
   401 000003BB                                 L64:
   402 000003BB 53                              	PUSH	EBX
   403 000003BC E8 0000001F                     	CALL	_cons_newline
   404 000003C1 58                              	POP	EAX
   405 000003C2 EB EA                           	JMP	L51
   406 000003C4                                 L63:
   407 000003C4 6A 01                           	PUSH	1
   408 000003C6 68 [00000004]                   	PUSH	LC0
   409 000003CB 6A 00                           	PUSH	0
   410 000003CD 6A 07                           	PUSH	7
   411 000003CF FF 73 08                        	PUSH	DWORD [8+EBX]
   412 000003D2 FF 73 04                        	PUSH	DWORD [4+EBX]
   413 000003D5 50                              	PUSH	EAX
   414 000003D6 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   415 000003DB 83 C4 1C                        	ADD	ESP,28
   416 000003DE EB BE                           	JMP	L50
   417 000003E0                                 	GLOBAL	_cons_newline
   418 000003E0                                 _cons_newline:
   419 000003E0 55                              	PUSH	EBP
   420 000003E1 89 E5                           	MOV	EBP,ESP
   421 000003E3 57                              	PUSH	EDI
   422 000003E4 56                              	PUSH	ESI
   423 000003E5 53                              	PUSH	EBX
   424 000003E6 50                              	PUSH	EAX
   425 000003E7 50                              	PUSH	EAX
   426 000003E8 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   427 000003EB 8B 00                           	MOV	EAX,DWORD [EAX]
   428 000003ED 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   429 000003F0 E8 [00000000]                   	CALL	_task_now
   430 000003F5 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   431 000003F8 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   432 000003FB 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   433 000003FE 3D 0000012B                     	CMP	EAX,299
   434 00000403 7F 36                           	JG	L66
   435 00000405 83 C0 10                        	ADD	EAX,16
   436 00000408 89 42 08                        	MOV	DWORD [8+EDX],EAX
   437 0000040B                                 L67:
   438 0000040B 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   439 0000040E 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   440 00000411 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   441 00000418 80 BA 000000BC 01               	CMP	BYTE [188+EDX],1
   442 0000041F 74 08                           	JE	L98
   443 00000421                                 L65:
   444 00000421 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   445 00000424 5B                              	POP	EBX
   446 00000425 5E                              	POP	ESI
   447 00000426 5F                              	POP	EDI
   448 00000427 5D                              	POP	EBP
   449 00000428 C3                              	RET
   450 00000429                                 L98:
   451 00000429 80 BA 000000BD 00               	CMP	BYTE [189+EDX],0
   452 00000430 74 EF                           	JE	L65
   453 00000432 C7 40 04 00000010               	MOV	DWORD [4+EAX],16
   454 00000439 EB E6                           	JMP	L65
   455 0000043B                                 L66:
   456 0000043B 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   457 0000043F 74 CA                           	JE	L67
   458 00000441 BF 0000001C                     	MOV	EDI,28
   459 00000446                                 L78:
   460 00000446 BE 00000008                     	MOV	ESI,8
   461 0000044B                                 L77:
   462 0000044B 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   463 0000044E 89 FA                           	MOV	EDX,EDI
   464 00000450 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   465 00000453 8B 18                           	MOV	EBX,DWORD [EAX]
   466 00000455 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   467 00000458 0F AF C1                        	IMUL	EAX,ECX
   468 0000045B 0F AF D1                        	IMUL	EDX,ECX
   469 0000045E 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   470 00000461 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   471 00000464 46                              	INC	ESI
   472 00000465 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   473 00000468 81 FE 000001F7                  	CMP	ESI,503
   474 0000046E 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   475 00000471 7E D8                           	JLE	L77
   476 00000473 47                              	INC	EDI
   477 00000474 81 FF 0000012B                  	CMP	EDI,299
   478 0000047A 7E CA                           	JLE	L78
   479 0000047C BF 0000012C                     	MOV	EDI,300
   480 00000481                                 L88:
   481 00000481 BE 00000008                     	MOV	ESI,8
   482 00000486                                 L87:
   483 00000486 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   484 00000489 89 F8                           	MOV	EAX,EDI
   485 0000048B 89 D1                           	MOV	ECX,EDX
   486 0000048D 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   487 00000491 8B 12                           	MOV	EDX,DWORD [EDX]
   488 00000493 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   489 00000496 46                              	INC	ESI
   490 00000497 81 FE 000001F7                  	CMP	ESI,503
   491 0000049D C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   492 000004A1 7E E3                           	JLE	L87
   493 000004A3 47                              	INC	EDI
   494 000004A4 81 FF 0000013B                  	CMP	EDI,315
   495 000004AA 7E D5                           	JLE	L88
   496 000004AC 68 0000013C                     	PUSH	316
   497 000004B1 68 000001F8                     	PUSH	504
   498 000004B6 6A 1C                           	PUSH	28
   499 000004B8 6A 08                           	PUSH	8
   500 000004BA 51                              	PUSH	ECX
   501 000004BB E8 [00000000]                   	CALL	_sheet_refresh
   502 000004C0 83 C4 14                        	ADD	ESP,20
   503 000004C3 E9 FFFFFF43                     	JMP	L67
   504 000004C8                                 	GLOBAL	_cons_putstr0
   505 000004C8                                 _cons_putstr0:
   506 000004C8 55                              	PUSH	EBP
   507 000004C9 89 E5                           	MOV	EBP,ESP
   508 000004CB 56                              	PUSH	ESI
   509 000004CC 53                              	PUSH	EBX
   510 000004CD 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   511 000004D0 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   512 000004D3 80 3B 00                        	CMP	BYTE [EBX],0
   513 000004D6 75 07                           	JNE	L104
   514 000004D8                                 L106:
   515 000004D8 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   516 000004DB 5B                              	POP	EBX
   517 000004DC 5E                              	POP	ESI
   518 000004DD 5D                              	POP	EBP
   519 000004DE C3                              	RET
   520 000004DF                                 L104:
   521 000004DF 6A 01                           	PUSH	1
   522 000004E1 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   523 000004E4 50                              	PUSH	EAX
   524 000004E5 43                              	INC	EBX
   525 000004E6 56                              	PUSH	ESI
   526 000004E7 E8 FFFFFE43                     	CALL	_cons_putchar
   527 000004EC 83 C4 0C                        	ADD	ESP,12
   528 000004EF 80 3B 00                        	CMP	BYTE [EBX],0
   529 000004F2 75 EB                           	JNE	L104
   530 000004F4 EB E2                           	JMP	L106
   531 000004F6                                 	GLOBAL	_cons_putstr1
   532 000004F6                                 _cons_putstr1:
   533 000004F6 55                              	PUSH	EBP
   534 000004F7 89 E5                           	MOV	EBP,ESP
   535 000004F9 57                              	PUSH	EDI
   536 000004FA 56                              	PUSH	ESI
   537 000004FB 53                              	PUSH	EBX
   538 000004FC 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   539 000004FF 31 DB                           	XOR	EBX,EBX
   540 00000501 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   541 00000504 39 F3                           	CMP	EBX,ESI
   542 00000506 7C 08                           	JL	L112
   543 00000508                                 L114:
   544 00000508 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   545 0000050B 5B                              	POP	EBX
   546 0000050C 5E                              	POP	ESI
   547 0000050D 5F                              	POP	EDI
   548 0000050E 5D                              	POP	EBP
   549 0000050F C3                              	RET
   550 00000510                                 L112:
   551 00000510 6A 01                           	PUSH	1
   552 00000512 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   553 00000516 50                              	PUSH	EAX
   554 00000517 43                              	INC	EBX
   555 00000518 FF 75 08                        	PUSH	DWORD [8+EBP]
   556 0000051B E8 FFFFFE0F                     	CALL	_cons_putchar
   557 00000520 83 C4 0C                        	ADD	ESP,12
   558 00000523 39 F3                           	CMP	EBX,ESI
   559 00000525 7C E9                           	JL	L112
   560 00000527 EB DF                           	JMP	L114
   561                                          [SECTION .data]
   562 00000006                                 LC1:
   563 00000006 6D 65 6D 00                     	DB	"mem",0x00
   564 0000000A                                 LC2:
   565 0000000A 63 6C 73 00                     	DB	"cls",0x00
   566 0000000E                                 LC3:
   567 0000000E 64 69 72 00                     	DB	"dir",0x00
   568 00000012                                 LC4:
   569 00000012 65 78 69 74 00                  	DB	"exit",0x00
   570 00000017                                 LC5:
   571 00000017 73 74 61 72 74 20 00            	DB	"start ",0x00
   572 0000001E                                 LC6:
   573 0000001E 6E 63 73 74 20 00               	DB	"ncst ",0x00
   574 00000024                                 LC7:
   575 00000024 6C 61 6E 67 6D 6F 64 65 20 00   	DB	"langmode ",0x00
   576 0000002E                                 LC8:
   577 0000002E 72 65 61 64 65 72 00            	DB	"reader",0x00
   578 00000035                                 LC9:
   579 00000035 77 72 69 74 65 72 00            	DB	"writer",0x00
   580 0000003C                                 LC10:
   581 0000003C 61 6C 6C 6F 63 00               	DB	"alloc",0x00
   582 00000042                                 LC11:
   583 00000042 66 72 65 65 00                  	DB	"free",0x00
   584 00000047                                 LC12:
   585 00000047 31 00                           	DB	"1",0x00
   586 00000049                                 LC13:
   587 00000049 32 00                           	DB	"2",0x00
   588 0000004B                                 LC14:
   589 0000004B 61 64 64 00                     	DB	"add",0x00
   590 0000004F                                 LC15:
   591 0000004F 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       00000059 64 2E 0A 0A 00 
   592                                          [SECTION .text]
   593 00000529                                 	GLOBAL	_cons_runcmd
   594 00000529                                 _cons_runcmd:
   595 00000529 55                              	PUSH	EBP
   596 0000052A 89 E5                           	MOV	EBP,ESP
   597 0000052C 57                              	PUSH	EDI
   598 0000052D 56                              	PUSH	ESI
   599 0000052E BF [00000006]                   	MOV	EDI,LC1
   600 00000533 53                              	PUSH	EBX
   601 00000534 83 EC 0C                        	SUB	ESP,12
   602 00000537 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   603 0000053A 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   604 0000053D 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   605 00000540 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   606 00000543 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   607 00000546 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   608 00000549 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   609 0000054C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   610 0000054F B8 00000004                     	MOV	EAX,4
   611 00000554 FC                              	CLD
   612 00000555 89 C1                           	MOV	ECX,EAX
   613 00000557 F3                              	REPE
   614 00000558 A6                              	CMPSB
   615 00000559 75 09                           	JNE	L116
   616 0000055B 83 3B 00                        	CMP	DWORD [EBX],0
   617 0000055E 0F 85 0000025E                  	JNE	L146
   618 00000564                                 L116:
   619 00000564 B8 00000004                     	MOV	EAX,4
   620 00000569 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   621 0000056C FC                              	CLD
   622 0000056D BF [0000000A]                   	MOV	EDI,LC2
   623 00000572 89 C1                           	MOV	ECX,EAX
   624 00000574 F3                              	REPE
   625 00000575 A6                              	CMPSB
   626 00000576 75 09                           	JNE	L118
   627 00000578 83 3B 00                        	CMP	DWORD [EBX],0
   628 0000057B 0F 85 00000235                  	JNE	L147
   629 00000581                                 L118:
   630 00000581 B8 00000004                     	MOV	EAX,4
   631 00000586 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   632 00000589 FC                              	CLD
   633 0000058A BF [0000000E]                   	MOV	EDI,LC3
   634 0000058F 89 C1                           	MOV	ECX,EAX
   635 00000591 F3                              	REPE
   636 00000592 A6                              	CMPSB
   637 00000593 75 09                           	JNE	L120
   638 00000595 83 3B 00                        	CMP	DWORD [EBX],0
   639 00000598 0F 85 00000209                  	JNE	L148
   640 0000059E                                 L120:
   641 0000059E B8 00000005                     	MOV	EAX,5
   642 000005A3 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   643 000005A6 FC                              	CLD
   644 000005A7 BF [00000012]                   	MOV	EDI,LC4
   645 000005AC 89 C1                           	MOV	ECX,EAX
   646 000005AE F3                              	REPE
   647 000005AF A6                              	CMPSB
   648 000005B0 0F 84 000001DC                  	JE	L149
   649 000005B6 B8 00000006                     	MOV	EAX,6
   650 000005BB 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   651 000005BE FC                              	CLD
   652 000005BF BF [00000017]                   	MOV	EDI,LC5
   653 000005C4 89 C1                           	MOV	ECX,EAX
   654 000005C6 F3                              	REPE
   655 000005C7 A6                              	CMPSB
   656 000005C8 0F 84 000001A9                  	JE	L150
   657 000005CE B8 00000005                     	MOV	EAX,5
   658 000005D3 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   659 000005D6 FC                              	CLD
   660 000005D7 BF [0000001E]                   	MOV	EDI,LC6
   661 000005DC 89 C1                           	MOV	ECX,EAX
   662 000005DE F3                              	REPE
   663 000005DF A6                              	CMPSB
   664 000005E0 0F 84 00000176                  	JE	L151
   665 000005E6 B8 00000009                     	MOV	EAX,9
   666 000005EB 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   667 000005EE FC                              	CLD
   668 000005EF BF [00000024]                   	MOV	EDI,LC7
   669 000005F4 89 C1                           	MOV	ECX,EAX
   670 000005F6 F3                              	REPE
   671 000005F7 A6                              	CMPSB
   672 000005F8 0F 84 00000149                  	JE	L152
   673 000005FE B8 00000007                     	MOV	EAX,7
   674 00000603 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   675 00000606 FC                              	CLD
   676 00000607 BF [0000002E]                   	MOV	EDI,LC8
   677 0000060C 89 C1                           	MOV	ECX,EAX
   678 0000060E F3                              	REPE
   679 0000060F A6                              	CMPSB
   680 00000610 0F 84 00000125                  	JE	L153
   681 00000616 B8 00000007                     	MOV	EAX,7
   682 0000061B 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   683 0000061E FC                              	CLD
   684 0000061F BF [00000035]                   	MOV	EDI,LC9
   685 00000624 89 C1                           	MOV	ECX,EAX
   686 00000626 F3                              	REPE
   687 00000627 A6                              	CMPSB
   688 00000628 0F 84 00000101                  	JE	L154
   689 0000062E B8 00000005                     	MOV	EAX,5
   690 00000633 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   691 00000636 FC                              	CLD
   692 00000637 BF [0000003C]                   	MOV	EDI,LC10
   693 0000063C 89 C1                           	MOV	ECX,EAX
   694 0000063E F3                              	REPE
   695 0000063F A6                              	CMPSB
   696 00000640 0F 84 000000D7                  	JE	L155
   697 00000646 B8 00000005                     	MOV	EAX,5
   698 0000064B 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   699 0000064E FC                              	CLD
   700 0000064F BF [00000042]                   	MOV	EDI,LC11
   701 00000654 89 C1                           	MOV	ECX,EAX
   702 00000656 F3                              	REPE
   703 00000657 A6                              	CMPSB
   704 00000658 0F 84 000000B3                  	JE	L156
   705 0000065E B8 00000002                     	MOV	EAX,2
   706 00000663 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   707 00000666 FC                              	CLD
   708 00000667 BF [00000047]                   	MOV	EDI,LC12
   709 0000066C 89 C1                           	MOV	ECX,EAX
   710 0000066E F3                              	REPE
   711 0000066F A6                              	CMPSB
   712 00000670 75 09                           	JNE	L138
   713 00000672 83 3B 00                        	CMP	DWORD [EBX],0
   714 00000675 0F 85 00000087                  	JNE	L157
   715 0000067B                                 L138:
   716 0000067B B8 00000002                     	MOV	EAX,2
   717 00000680 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   718 00000683 FC                              	CLD
   719 00000684 BF [00000049]                   	MOV	EDI,LC13
   720 00000689 89 C1                           	MOV	ECX,EAX
   721 0000068B F3                              	REPE
   722 0000068C A6                              	CMPSB
   723 0000068D 75 05                           	JNE	L140
   724 0000068F 83 3B 00                        	CMP	DWORD [EBX],0
   725 00000692 75 5F                           	JNE	L158
   726 00000694                                 L140:
   727 00000694 B8 00000004                     	MOV	EAX,4
   728 00000699 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   729 0000069C FC                              	CLD
   730 0000069D BF [0000004B]                   	MOV	EDI,LC14
   731 000006A2 89 C1                           	MOV	ECX,EAX
   732 000006A4 F3                              	REPE
   733 000006A5 A6                              	CMPSB
   734 000006A6 75 05                           	JNE	L142
   735 000006A8 83 3B 00                        	CMP	DWORD [EBX],0
   736 000006AB 75 37                           	JNE	L159
   737 000006AD                                 L142:
   738 000006AD 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   739 000006B0 80 38 00                        	CMP	BYTE [EAX],0
   740 000006B3 75 08                           	JNE	L160
   741 000006B5                                 L115:
   742 000006B5 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   743 000006B8 5B                              	POP	EBX
   744 000006B9 5E                              	POP	ESI
   745 000006BA 5F                              	POP	EDI
   746 000006BB 5D                              	POP	EBP
   747 000006BC C3                              	RET
   748 000006BD                                 L160:
   749 000006BD 50                              	PUSH	EAX
   750 000006BE FF 75 F0                        	PUSH	DWORD [-16+EBP]
   751 000006C1 53                              	PUSH	EBX
   752 000006C2 E8 00000401                     	CALL	_cmd_app
   753 000006C7 83 C4 0C                        	ADD	ESP,12
   754 000006CA 85 C0                           	TEST	EAX,EAX
   755 000006CC 75 E7                           	JNE	L115
   756 000006CE C7 45 0C [0000004F]             	MOV	DWORD [12+EBP],LC15
   757 000006D5 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   758 000006D8 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   759 000006DB 5B                              	POP	EBX
   760 000006DC 5E                              	POP	ESI
   761 000006DD 5F                              	POP	EDI
   762 000006DE 5D                              	POP	EBP
   763 000006DF E9 FFFFFDE4                     	JMP	_cons_putstr0
   764 000006E4                                 L159:
   765 000006E4 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   766 000006E7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   767 000006EA 5B                              	POP	EBX
   768 000006EB 5E                              	POP	ESI
   769 000006EC 5F                              	POP	EDI
   770 000006ED 5D                              	POP	EBP
   771 000006EE E9 0000161B                     	JMP	_shareadd
   772 000006F3                                 L158:
   773 000006F3 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   774 000006F6 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   775 000006F9 5B                              	POP	EBX
   776 000006FA 5E                              	POP	ESI
   777 000006FB 5F                              	POP	EDI
   778 000006FC 5D                              	POP	EBP
   779 000006FD E9 00001782                     	JMP	_consume
   780 00000702                                 L157:
   781 00000702 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   782 00000705 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   783 00000708 5B                              	POP	EBX
   784 00000709 5E                              	POP	ESI
   785 0000070A 5F                              	POP	EDI
   786 0000070B 5D                              	POP	EBP
   787 0000070C E9 0000168D                     	JMP	_produce
   788 00000711                                 L156:
   789 00000711 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   790 00000714 5B                              	POP	EBX
   791 00000715 5E                              	POP	ESI
   792 00000716 5F                              	POP	EDI
   793 00000717 5D                              	POP	EBP
   794 00000718 E9 000015B8                     	JMP	_cmd_free
   795 0000071D                                 L155:
   796 0000071D 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   797 00000720 89 45 08                        	MOV	DWORD [8+EBP],EAX
   798 00000723 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   799 00000726 5B                              	POP	EBX
   800 00000727 5E                              	POP	ESI
   801 00000728 5F                              	POP	EDI
   802 00000729 5D                              	POP	EBP
   803 0000072A E9 00001443                     	JMP	_cmd_mymem
   804 0000072F                                 L154:
   805 0000072F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   806 00000732 5B                              	POP	EBX
   807 00000733 5E                              	POP	ESI
   808 00000734 5F                              	POP	EDI
   809 00000735 5D                              	POP	EBP
   810 00000736 E9 00001374                     	JMP	_cmd_writer
   811 0000073B                                 L153:
   812 0000073B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   813 0000073E 5B                              	POP	EBX
   814 0000073F 5E                              	POP	ESI
   815 00000740 5F                              	POP	EDI
   816 00000741 5D                              	POP	EBP
   817 00000742 E9 00001257                     	JMP	_cmd_reader
   818 00000747                                 L152:
   819 00000747 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   820 0000074A 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   821 0000074D 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   822 00000750 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   823 00000753 5B                              	POP	EBX
   824 00000754 5E                              	POP	ESI
   825 00000755 5F                              	POP	EDI
   826 00000756 5D                              	POP	EBP
   827 00000757 E9 0000032E                     	JMP	_cmd_langmode
   828 0000075C                                 L151:
   829 0000075C 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   830 0000075F 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   831 00000762 89 45 10                        	MOV	DWORD [16+EBP],EAX
   832 00000765 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   833 00000768 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   834 0000076B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   835 0000076E 5B                              	POP	EBX
   836 0000076F 5E                              	POP	ESI
   837 00000770 5F                              	POP	EDI
   838 00000771 5D                              	POP	EBP
   839 00000772 E9 000002AF                     	JMP	_cmd_ncst
   840 00000777                                 L150:
   841 00000777 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   842 0000077A 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   843 0000077D 89 45 10                        	MOV	DWORD [16+EBP],EAX
   844 00000780 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   845 00000783 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   846 00000786 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   847 00000789 5B                              	POP	EBX
   848 0000078A 5E                              	POP	ESI
   849 0000078B 5F                              	POP	EDI
   850 0000078C 5D                              	POP	EBP
   851 0000078D E9 0000020A                     	JMP	_cmd_start
   852 00000792                                 L149:
   853 00000792 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   854 00000795 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   855 00000798 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   856 0000079B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   857 0000079E 5B                              	POP	EBX
   858 0000079F 5E                              	POP	ESI
   859 000007A0 5F                              	POP	EDI
   860 000007A1 5D                              	POP	EBP
   861 000007A2 E9 0000015D                     	JMP	_cmd_exit
   862 000007A7                                 L148:
   863 000007A7 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   864 000007AA 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   865 000007AD 5B                              	POP	EBX
   866 000007AE 5E                              	POP	ESI
   867 000007AF 5F                              	POP	EDI
   868 000007B0 5D                              	POP	EBP
   869 000007B1 E9 000000B8                     	JMP	_cmd_dir
   870 000007B6                                 L147:
   871 000007B6 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   872 000007B9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   873 000007BC 5B                              	POP	EBX
   874 000007BD 5E                              	POP	ESI
   875 000007BE 5F                              	POP	EDI
   876 000007BF 5D                              	POP	EBP
   877 000007C0 EB 53                           	JMP	_cmd_cls
   878 000007C2                                 L146:
   879 000007C2 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   880 000007C5 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   881 000007C8 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   882 000007CB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   883 000007CE 5B                              	POP	EBX
   884 000007CF 5E                              	POP	ESI
   885 000007D0 5F                              	POP	EDI
   886 000007D1 5D                              	POP	EBP
   887 000007D2 EB 00                           	JMP	_cmd_mem
   888                                          [SECTION .data]
   889 0000005E                                 LC16:
   890 0000005E 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       00000068 4D 42 0A 66 72 65 65 20 25 64 
       00000072 4B 42 0A 0A 00 
   891                                          [SECTION .text]
   892 000007D4                                 	GLOBAL	_cmd_mem
   893 000007D4                                 _cmd_mem:
   894 000007D4 55                              	PUSH	EBP
   895 000007D5 89 E5                           	MOV	EBP,ESP
   896 000007D7 53                              	PUSH	EBX
   897 000007D8 83 EC 40                        	SUB	ESP,64
   898 000007DB 68 003C0000                     	PUSH	3932160
   899 000007E0 E8 [00000000]                   	CALL	_memman_total
   900 000007E5 BA 00100000                     	MOV	EDX,1048576
   901 000007EA C1 E8 0A                        	SHR	EAX,10
   902 000007ED 89 D3                           	MOV	EBX,EDX
   903 000007EF 89 04 24                        	MOV	DWORD [ESP],EAX
   904 000007F2 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   905 000007F5 99                              	CDQ
   906 000007F6 F7 FB                           	IDIV	EBX
   907 000007F8 50                              	PUSH	EAX
   908 000007F9 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   909 000007FC 68 [0000005E]                   	PUSH	LC16
   910 00000801 53                              	PUSH	EBX
   911 00000802 E8 [00000000]                   	CALL	_sprintf
   912 00000807 53                              	PUSH	EBX
   913 00000808 FF 75 08                        	PUSH	DWORD [8+EBP]
   914 0000080B E8 FFFFFCB8                     	CALL	_cons_putstr0
   915 00000810 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   916 00000813 C9                              	LEAVE
   917 00000814 C3                              	RET
   918 00000815                                 	GLOBAL	_cmd_cls
   919 00000815                                 _cmd_cls:
   920 00000815 55                              	PUSH	EBP
   921 00000816 89 E5                           	MOV	EBP,ESP
   922 00000818 57                              	PUSH	EDI
   923 00000819 56                              	PUSH	ESI
   924 0000081A BE 0000001C                     	MOV	ESI,28
   925 0000081F 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   926 00000822 53                              	PUSH	EBX
   927 00000823 8B 1F                           	MOV	EBX,DWORD [EDI]
   928 00000825                                 L172:
   929 00000825 B9 00000008                     	MOV	ECX,8
   930 0000082A                                 L171:
   931 0000082A 89 F0                           	MOV	EAX,ESI
   932 0000082C 8B 13                           	MOV	EDX,DWORD [EBX]
   933 0000082E 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   934 00000832 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   935 00000835 41                              	INC	ECX
   936 00000836 81 F9 000001F7                  	CMP	ECX,503
   937 0000083C C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   938 00000840 7E E8                           	JLE	L171
   939 00000842 46                              	INC	ESI
   940 00000843 81 FE 0000013B                  	CMP	ESI,315
   941 00000849 7E DA                           	JLE	L172
   942 0000084B 68 0000013C                     	PUSH	316
   943 00000850 68 000001F8                     	PUSH	504
   944 00000855 6A 1C                           	PUSH	28
   945 00000857 6A 08                           	PUSH	8
   946 00000859 53                              	PUSH	EBX
   947 0000085A E8 [00000000]                   	CALL	_sheet_refresh
   948 0000085F C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   949 00000866 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   950 00000869 5B                              	POP	EBX
   951 0000086A 5E                              	POP	ESI
   952 0000086B 5F                              	POP	EDI
   953 0000086C 5D                              	POP	EBP
   954 0000086D C3                              	RET
   955                                          [SECTION .data]
   956 00000077                                 LC17:
   957 00000077 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       00000081 78 74 20 20 20 25 37 64 0A 00 
   958                                          [SECTION .text]
   959 0000086E                                 	GLOBAL	_cmd_dir
   960 0000086E                                 _cmd_dir:
   961 0000086E 55                              	PUSH	EBP
   962 0000086F 89 E5                           	MOV	EBP,ESP
   963 00000871 57                              	PUSH	EDI
   964 00000872 56                              	PUSH	ESI
   965 00000873 31 F6                           	XOR	ESI,ESI
   966 00000875 53                              	PUSH	EBX
   967 00000876 31 DB                           	XOR	EBX,EBX
   968 00000878 83 EC 20                        	SUB	ESP,32
   969 0000087B 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   970 0000087E                                 L190:
   971 0000087E 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   972 00000884 84 C0                           	TEST	AL,AL
   973 00000886 74 19                           	JE	L179
   974 00000888 3C E5                           	CMP	AL,-27
   975 0000088A 74 09                           	JE	L180
   976 0000088C F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   977 00000893 74 1A                           	JE	L194
   978 00000895                                 L180:
   979 00000895 46                              	INC	ESI
   980 00000896 83 C3 20                        	ADD	EBX,32
   981 00000899 81 FE 000000DF                  	CMP	ESI,223
   982 0000089F 7E DD                           	JLE	L190
   983 000008A1                                 L179:
   984 000008A1 57                              	PUSH	EDI
   985 000008A2 E8 FFFFFB39                     	CALL	_cons_newline
   986 000008A7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   987 000008AA 5B                              	POP	EBX
   988 000008AB 5E                              	POP	ESI
   989 000008AC 5F                              	POP	EDI
   990 000008AD 5D                              	POP	EBP
   991 000008AE C3                              	RET
   992 000008AF                                 L194:
   993 000008AF FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   994 000008B5 68 [00000077]                   	PUSH	LC17
   995 000008BA 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   996 000008BD 50                              	PUSH	EAX
   997 000008BE E8 [00000000]                   	CALL	_sprintf
   998 000008C3 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   999 000008C9 31 C9                           	XOR	ECX,ECX
  1000 000008CB 83 C4 0C                        	ADD	ESP,12
  1001 000008CE                                 L189:
  1002 000008CE 8A 02                           	MOV	AL,BYTE [EDX]
  1003 000008D0 42                              	INC	EDX
  1004 000008D1 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
  1005 000008D5 41                              	INC	ECX
  1006 000008D6 83 F9 07                        	CMP	ECX,7
  1007 000008D9 7E F3                           	JLE	L189
  1008 000008DB 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
  1009 000008E1 88 45 DD                        	MOV	BYTE [-35+EBP],AL
  1010 000008E4 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
  1011 000008EA 88 45 DE                        	MOV	BYTE [-34+EBP],AL
  1012 000008ED 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
  1013 000008F3 88 45 DF                        	MOV	BYTE [-33+EBP],AL
  1014 000008F6 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
  1015 000008F9 50                              	PUSH	EAX
  1016 000008FA 57                              	PUSH	EDI
  1017 000008FB E8 FFFFFBC8                     	CALL	_cons_putstr0
  1018 00000900 58                              	POP	EAX
  1019 00000901 5A                              	POP	EDX
  1020 00000902 EB 91                           	JMP	L180
  1021 00000904                                 	GLOBAL	_cmd_exit
  1022 00000904                                 _cmd_exit:
  1023 00000904 55                              	PUSH	EBP
  1024 00000905 89 E5                           	MOV	EBP,ESP
  1025 00000907 57                              	PUSH	EDI
  1026 00000908 56                              	PUSH	ESI
  1027 00000909 53                              	PUSH	EBX
  1028 0000090A 50                              	PUSH	EAX
  1029 0000090B 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  1030 0000090E E8 [00000000]                   	CALL	_task_now
  1031 00000913 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  1032 00000919 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1033 0000091F 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1034 00000922 83 3B 00                        	CMP	DWORD [EBX],0
  1035 00000925 74 09                           	JE	L196
  1036 00000927 FF 73 10                        	PUSH	DWORD [16+EBX]
  1037 0000092A E8 [00000000]                   	CALL	_timer_cancel
  1038 0000092F 58                              	POP	EAX
  1039 00000930                                 L196:
  1040 00000930 68 00002D00                     	PUSH	11520
  1041 00000935 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1042 00000938 68 003C0000                     	PUSH	3932160
  1043 0000093D E8 [00000000]                   	CALL	_memman_free_4k
  1044 00000942 E8 [00000000]                   	CALL	_io_cli
  1045 00000947 8B 03                           	MOV	EAX,DWORD [EBX]
  1046 00000949 83 C4 0C                        	ADD	ESP,12
  1047 0000094C 85 C0                           	TEST	EAX,EAX
  1048 0000094E 74 2E                           	JE	L197
  1049 00000950 29 F0                           	SUB	EAX,ESI
  1050 00000952 2D 00000414                     	SUB	EAX,1044
  1051 00000957 C1 F8 03                        	SAR	EAX,3
  1052 0000095A 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
  1053 00000960 05 00000300                     	ADD	EAX,768
  1054 00000965                                 L202:
  1055 00000965 50                              	PUSH	EAX
  1056 00000966 57                              	PUSH	EDI
  1057 00000967 E8 [00000000]                   	CALL	_fifo32_put
  1058 0000096C 5B                              	POP	EBX
  1059 0000096D 5E                              	POP	ESI
  1060 0000096E E8 [00000000]                   	CALL	_io_sti
  1061 00000973                                 L199:
  1062 00000973 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1063 00000976 E8 [00000000]                   	CALL	_task_sleep
  1064 0000097B 59                              	POP	ECX
  1065 0000097C EB F5                           	JMP	L199
  1066 0000097E                                 L197:
  1067 0000097E 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1068 00000981 2B 05 [00000000]                	SUB	EAX,DWORD [_taskctl]
  1069 00000987 2D 00000FF8                     	SUB	EAX,4088
  1070 0000098C C1 F8 06                        	SAR	EAX,6
  1071 0000098F 69 C0 AAAAAAAB                  	IMUL	EAX,EAX,-1431655765
  1072 00000995 05 00000400                     	ADD	EAX,1024
  1073 0000099A EB C9                           	JMP	L202
  1074 0000099C                                 	GLOBAL	_cmd_start
  1075 0000099C                                 _cmd_start:
  1076 0000099C 55                              	PUSH	EBP
  1077 0000099D 89 E5                           	MOV	EBP,ESP
  1078 0000099F 57                              	PUSH	EDI
  1079 000009A0 56                              	PUSH	ESI
  1080 000009A1 53                              	PUSH	EBX
  1081 000009A2 57                              	PUSH	EDI
  1082 000009A3 57                              	PUSH	EDI
  1083 000009A4 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1084 000009A7 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
  1085 000009AA 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  1086 000009B0 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1087 000009B3 FF 75 10                        	PUSH	DWORD [16+EBP]
  1088 000009B6 56                              	PUSH	ESI
  1089 000009B7 E8 [00000000]                   	CALL	_open_console
  1090 000009BC 89 C3                           	MOV	EBX,EAX
  1091 000009BE 8B 40 24                        	MOV	EAX,DWORD [36+EAX]
  1092 000009C1 83 C0 10                        	ADD	EAX,16
  1093 000009C4 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  1094 000009C7 6A 04                           	PUSH	4
  1095 000009C9 6A 20                           	PUSH	32
  1096 000009CB 53                              	PUSH	EBX
  1097 000009CC E8 [00000000]                   	CALL	_sheet_slide
  1098 000009D1 FF 76 10                        	PUSH	DWORD [16+ESI]
  1099 000009D4 53                              	PUSH	EBX
  1100 000009D5 BB 00000006                     	MOV	EBX,6
  1101 000009DA E8 [00000000]                   	CALL	_sheet_updown
  1102 000009DF 83 C4 1C                        	ADD	ESP,28
  1103 000009E2 80 7F 06 00                     	CMP	BYTE [6+EDI],0
  1104 000009E6 75 21                           	JNE	L208
  1105 000009E8                                 L210:
  1106 000009E8 68 0000010A                     	PUSH	266
  1107 000009ED FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1108 000009F0 E8 [00000000]                   	CALL	_fifo32_put
  1109 000009F5 58                              	POP	EAX
  1110 000009F6 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1111 000009F9 5A                              	POP	EDX
  1112 000009FA 89 45 08                        	MOV	DWORD [8+EBP],EAX
  1113 000009FD 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1114 00000A00 5B                              	POP	EBX
  1115 00000A01 5E                              	POP	ESI
  1116 00000A02 5F                              	POP	EDI
  1117 00000A03 5D                              	POP	EBP
  1118 00000A04 E9 FFFFF9D7                     	JMP	_cons_newline
  1119 00000A09                                 L208:
  1120 00000A09 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
  1121 00000A0D 05 00000100                     	ADD	EAX,256
  1122 00000A12 43                              	INC	EBX
  1123 00000A13 50                              	PUSH	EAX
  1124 00000A14 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1125 00000A17 E8 [00000000]                   	CALL	_fifo32_put
  1126 00000A1C 80 3C 3B 00                     	CMP	BYTE [EBX+EDI*1],0
  1127 00000A20 59                              	POP	ECX
  1128 00000A21 5E                              	POP	ESI
  1129 00000A22 75 E5                           	JNE	L208
  1130 00000A24 EB C2                           	JMP	L210
  1131 00000A26                                 	GLOBAL	_cmd_ncst
  1132 00000A26                                 _cmd_ncst:
  1133 00000A26 55                              	PUSH	EBP
  1134 00000A27 89 E5                           	MOV	EBP,ESP
  1135 00000A29 57                              	PUSH	EDI
  1136 00000A2A 56                              	PUSH	ESI
  1137 00000A2B BE 00000005                     	MOV	ESI,5
  1138 00000A30 53                              	PUSH	EBX
  1139 00000A31 51                              	PUSH	ECX
  1140 00000A32 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1141 00000A35 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1142 00000A38 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1143 00000A3B FF 75 10                        	PUSH	DWORD [16+EBP]
  1144 00000A3E 6A 00                           	PUSH	0
  1145 00000A40 E8 [00000000]                   	CALL	_open_constask
  1146 00000A45 80 7B 05 00                     	CMP	BYTE [5+EBX],0
  1147 00000A49 8D 78 10                        	LEA	EDI,DWORD [16+EAX]
  1148 00000A4C 58                              	POP	EAX
  1149 00000A4D 5A                              	POP	EDX
  1150 00000A4E 75 1F                           	JNE	L216
  1151 00000A50                                 L218:
  1152 00000A50 68 0000010A                     	PUSH	266
  1153 00000A55 57                              	PUSH	EDI
  1154 00000A56 E8 [00000000]                   	CALL	_fifo32_put
  1155 00000A5B 58                              	POP	EAX
  1156 00000A5C 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1157 00000A5F 5A                              	POP	EDX
  1158 00000A60 89 45 08                        	MOV	DWORD [8+EBP],EAX
  1159 00000A63 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1160 00000A66 5B                              	POP	EBX
  1161 00000A67 5E                              	POP	ESI
  1162 00000A68 5F                              	POP	EDI
  1163 00000A69 5D                              	POP	EBP
  1164 00000A6A E9 FFFFF971                     	JMP	_cons_newline
  1165 00000A6F                                 L216:
  1166 00000A6F 0F BE 04 1E                     	MOVSX	EAX,BYTE [ESI+EBX*1]
  1167 00000A73 05 00000100                     	ADD	EAX,256
  1168 00000A78 46                              	INC	ESI
  1169 00000A79 50                              	PUSH	EAX
  1170 00000A7A 57                              	PUSH	EDI
  1171 00000A7B E8 [00000000]                   	CALL	_fifo32_put
  1172 00000A80 80 3C 1E 00                     	CMP	BYTE [ESI+EBX*1],0
  1173 00000A84 59                              	POP	ECX
  1174 00000A85 58                              	POP	EAX
  1175 00000A86 75 E7                           	JNE	L216
  1176 00000A88 EB C6                           	JMP	L218
  1177                                          [SECTION .data]
  1178 0000008B                                 LC18:
  1179 0000008B 6D 6F 64 65 20 6E 75 6D 62 65   	DB	"mode number error.",0x0A,0x00
       00000095 72 20 65 72 72 6F 72 2E 0A 00 
  1180                                          [SECTION .text]
  1181 00000A8A                                 	GLOBAL	_cmd_langmode
  1182 00000A8A                                 _cmd_langmode:
  1183 00000A8A 55                              	PUSH	EBP
  1184 00000A8B 89 E5                           	MOV	EBP,ESP
  1185 00000A8D 56                              	PUSH	ESI
  1186 00000A8E 53                              	PUSH	EBX
  1187 00000A8F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1188 00000A92 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
  1189 00000A95 E8 [00000000]                   	CALL	_task_now
  1190 00000A9A 8A 53 09                        	MOV	DL,BYTE [9+EBX]
  1191 00000A9D 83 EA 30                        	SUB	EDX,48
  1192 00000AA0 80 FA 02                        	CMP	DL,2
  1193 00000AA3 77 14                           	JA	L220
  1194 00000AA5 88 90 000000BC                  	MOV	BYTE [188+EAX],DL
  1195 00000AAB                                 L221:
  1196 00000AAB 89 75 08                        	MOV	DWORD [8+EBP],ESI
  1197 00000AAE 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  1198 00000AB1 5B                              	POP	EBX
  1199 00000AB2 5E                              	POP	ESI
  1200 00000AB3 5D                              	POP	EBP
  1201 00000AB4 E9 FFFFF927                     	JMP	_cons_newline
  1202 00000AB9                                 L220:
  1203 00000AB9 68 [0000008B]                   	PUSH	LC18
  1204 00000ABE 56                              	PUSH	ESI
  1205 00000ABF E8 FFFFFA04                     	CALL	_cons_putstr0
  1206 00000AC4 5B                              	POP	EBX
  1207 00000AC5 58                              	POP	EAX
  1208 00000AC6 EB E3                           	JMP	L221
  1209                                          [SECTION .data]
  1210 0000009F                                 LC19:
  1211 0000009F 48 61 72 69 00                  	DB	"Hari",0x00
  1212 000000A4                                 LC20:
  1213 000000A4 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       000000AE 66 6F 72 6D 61 74 20 65 72 72 
       000000B8 6F 72 2E 0A 00 
  1214                                          [SECTION .text]
  1215 00000AC8                                 	GLOBAL	_cmd_app
  1216 00000AC8                                 _cmd_app:
  1217 00000AC8 55                              	PUSH	EBP
  1218 00000AC9 89 E5                           	MOV	EBP,ESP
  1219 00000ACB 57                              	PUSH	EDI
  1220 00000ACC 56                              	PUSH	ESI
  1221 00000ACD 31 F6                           	XOR	ESI,ESI
  1222 00000ACF 53                              	PUSH	EBX
  1223 00000AD0 83 EC 34                        	SUB	ESP,52
  1224 00000AD3 8B 5D 10                        	MOV	EBX,DWORD [16+EBP]
  1225 00000AD6 E8 [00000000]                   	CALL	_task_now
  1226 00000ADB 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
  1227 00000ADE                                 L228:
  1228 00000ADE 8A 04 1E                        	MOV	AL,BYTE [ESI+EBX*1]
  1229 00000AE1 3C 20                           	CMP	AL,32
  1230 00000AE3 7E 0A                           	JLE	L224
  1231 00000AE5 88 44 35 D4                     	MOV	BYTE [-44+EBP+ESI*1],AL
  1232 00000AE9 46                              	INC	ESI
  1233 00000AEA 83 FE 0C                        	CMP	ESI,12
  1234 00000AED 7E EF                           	JLE	L228
  1235 00000AEF                                 L224:
  1236 00000AEF 68 000000E0                     	PUSH	224
  1237 00000AF4 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1238 00000AF7 68 00102600                     	PUSH	1058304
  1239 00000AFC 53                              	PUSH	EBX
  1240 00000AFD C6 44 35 D4 00                  	MOV	BYTE [-44+EBP+ESI*1],0
  1241 00000B02 E8 [00000000]                   	CALL	_file_search
  1242 00000B07 83 C4 0C                        	ADD	ESP,12
  1243 00000B0A 89 C2                           	MOV	EDX,EAX
  1244 00000B0C 85 C0                           	TEST	EAX,EAX
  1245 00000B0E 0F 84 000001B6                  	JE	L258
  1246 00000B14                                 L257:
  1247 00000B14 8B 42 1C                        	MOV	EAX,DWORD [28+EDX]
  1248 00000B17 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1249 00000B1A 8D 45 D0                        	LEA	EAX,DWORD [-48+EBP]
  1250 00000B1D FF 75 0C                        	PUSH	DWORD [12+EBP]
  1251 00000B20 50                              	PUSH	EAX
  1252 00000B21 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  1253 00000B25 50                              	PUSH	EAX
  1254 00000B26 E8 [00000000]                   	CALL	_file_loadfile2
  1255 00000B2B 83 C4 0C                        	ADD	ESP,12
  1256 00000B2E 83 7D D0 23                     	CMP	DWORD [-48+EBP],35
  1257 00000B32 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
  1258 00000B35 7E 1C                           	JLE	L231
  1259 00000B37 89 C6                           	MOV	ESI,EAX
  1260 00000B39 BF [0000009F]                   	MOV	EDI,LC19
  1261 00000B3E FC                              	CLD
  1262 00000B3F 83 C6 04                        	ADD	ESI,4
  1263 00000B42 B9 00000004                     	MOV	ECX,4
  1264 00000B47 F3                              	REPE
  1265 00000B48 A6                              	CMPSB
  1266 00000B49 75 08                           	JNE	L231
  1267 00000B4B 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
  1268 00000B4E 80 38 00                        	CMP	BYTE [EAX],0
  1269 00000B51 74 34                           	JE	L259
  1270 00000B53                                 L231:
  1271 00000B53 68 [000000A4]                   	PUSH	LC20
  1272 00000B58 FF 75 08                        	PUSH	DWORD [8+EBP]
  1273 00000B5B E8 FFFFF968                     	CALL	_cons_putstr0
  1274 00000B60 58                              	POP	EAX
  1275 00000B61 5A                              	POP	EDX
  1276 00000B62                                 L249:
  1277 00000B62 FF 75 D0                        	PUSH	DWORD [-48+EBP]
  1278 00000B65 FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1279 00000B68 68 003C0000                     	PUSH	3932160
  1280 00000B6D E8 [00000000]                   	CALL	_memman_free_4k
  1281 00000B72 FF 75 08                        	PUSH	DWORD [8+EBP]
  1282 00000B75 E8 FFFFF866                     	CALL	_cons_newline
  1283 00000B7A B8 00000001                     	MOV	EAX,1
  1284 00000B7F                                 L222:
  1285 00000B7F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1286 00000B82 5B                              	POP	EBX
  1287 00000B83 5E                              	POP	ESI
  1288 00000B84 5F                              	POP	EDI
  1289 00000B85 5D                              	POP	EBP
  1290 00000B86 C3                              	RET
  1291 00000B87                                 L259:
  1292 00000B87 8B 10                           	MOV	EDX,DWORD [EAX]
  1293 00000B89 8B 40 0C                        	MOV	EAX,DWORD [12+EAX]
  1294 00000B8C 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
  1295 00000B8F 89 45 C0                        	MOV	DWORD [-64+EBP],EAX
  1296 00000B92 8B 55 CC                        	MOV	EDX,DWORD [-52+EBP]
  1297 00000B95 8B 5A 10                        	MOV	EBX,DWORD [16+EDX]
  1298 00000B98 8B 72 14                        	MOV	ESI,DWORD [20+EDX]
  1299 00000B9B FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1300 00000B9E 68 003C0000                     	PUSH	3932160
  1301 00000BA3 E8 [00000000]                   	CALL	_memman_alloc_4k
  1302 00000BA8 89 C7                           	MOV	EDI,EAX
  1303 00000BAA 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1304 00000BAD 89 B8 000000A8                  	MOV	DWORD [168+EAX],EDI
  1305 00000BB3 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
  1306 00000BB6 68 000040FA                     	PUSH	16634
  1307 00000BBB 48                              	DEC	EAX
  1308 00000BBC FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1309 00000BBF 50                              	PUSH	EAX
  1310 00000BC0 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1311 00000BC3 05 00000094                     	ADD	EAX,148
  1312 00000BC8 50                              	PUSH	EAX
  1313 00000BC9 E8 [00000000]                   	CALL	_set_segmdesc
  1314 00000BCE 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
  1315 00000BD1 68 000040F2                     	PUSH	16626
  1316 00000BD6 48                              	DEC	EAX
  1317 00000BD7 57                              	PUSH	EDI
  1318 00000BD8 50                              	PUSH	EAX
  1319 00000BD9 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1320 00000BDC 05 0000009C                     	ADD	EAX,156
  1321 00000BE1 50                              	PUSH	EAX
  1322 00000BE2 E8 [00000000]                   	CALL	_set_segmdesc
  1323 00000BE7 83 C4 28                        	ADD	ESP,40
  1324 00000BEA 85 DB                           	TEST	EBX,EBX
  1325 00000BEC 7E 16                           	JLE	L252
  1326 00000BEE 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
  1327 00000BF1 8B 4D C0                        	MOV	ECX,DWORD [-64+EBP]
  1328 00000BF4 01 F9                           	ADD	ECX,EDI
  1329 00000BF6 8D 14 30                        	LEA	EDX,DWORD [EAX+ESI*1]
  1330 00000BF9 89 DE                           	MOV	ESI,EBX
  1331 00000BFB                                 L236:
  1332 00000BFB 8A 02                           	MOV	AL,BYTE [EDX]
  1333 00000BFD 42                              	INC	EDX
  1334 00000BFE 88 01                           	MOV	BYTE [ECX],AL
  1335 00000C00 41                              	INC	ECX
  1336 00000C01 4E                              	DEC	ESI
  1337 00000C02 75 F7                           	JNE	L236
  1338 00000C04                                 L252:
  1339 00000C04 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1340 00000C07 BE 000000FF                     	MOV	ESI,255
  1341 00000C0C 83 C0 30                        	ADD	EAX,48
  1342 00000C0F 50                              	PUSH	EAX
  1343 00000C10 6A 0C                           	PUSH	12
  1344 00000C12 FF 75 C0                        	PUSH	DWORD [-64+EBP]
  1345 00000C15 6A 04                           	PUSH	4
  1346 00000C17 6A 1B                           	PUSH	27
  1347 00000C19 E8 [00000000]                   	CALL	_start_app
  1348 00000C1E 8B 1D 00000FE4                  	MOV	EBX,DWORD [4068]
  1349 00000C24 83 C4 14                        	ADD	ESP,20
  1350 00000C27 81 C3 00000414                  	ADD	EBX,1044
  1351 00000C2D                                 L242:
  1352 00000C2D 8B 43 1C                        	MOV	EAX,DWORD [28+EBX]
  1353 00000C30 83 E0 11                        	AND	EAX,17
  1354 00000C33 83 F8 11                        	CMP	EAX,17
  1355 00000C36 74 7A                           	JE	L260
  1356 00000C38                                 L239:
  1357 00000C38 83 C3 28                        	ADD	EBX,40
  1358 00000C3B 4E                              	DEC	ESI
  1359 00000C3C 79 EF                           	JNS	L242
  1360 00000C3E 31 DB                           	XOR	EBX,EBX
  1361 00000C40 BE 00000007                     	MOV	ESI,7
  1362 00000C45                                 L248:
  1363 00000C45 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1364 00000C48 8B 82 000000B0                  	MOV	EAX,DWORD [176+EDX]
  1365 00000C4E 83 3C 18 00                     	CMP	DWORD [EAX+EBX*1],0
  1366 00000C52 75 32                           	JNE	L261
  1367 00000C54                                 L245:
  1368 00000C54 83 C3 0C                        	ADD	EBX,12
  1369 00000C57 4E                              	DEC	ESI
  1370 00000C58 79 EB                           	JNS	L248
  1371 00000C5A 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1372 00000C5D 83 C0 10                        	ADD	EAX,16
  1373 00000C60 50                              	PUSH	EAX
  1374 00000C61 E8 [00000000]                   	CALL	_timer_cancelall
  1375 00000C66 FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1376 00000C69 57                              	PUSH	EDI
  1377 00000C6A 68 003C0000                     	PUSH	3932160
  1378 00000C6F E8 [00000000]                   	CALL	_memman_free_4k
  1379 00000C74 83 C4 10                        	ADD	ESP,16
  1380 00000C77 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1381 00000C7A C6 80 000000BD 00               	MOV	BYTE [189+EAX],0
  1382 00000C81 E9 FFFFFEDC                     	JMP	L249
  1383 00000C86                                 L261:
  1384 00000C86 FF 74 18 04                     	PUSH	DWORD [4+EAX+EBX*1]
  1385 00000C8A 8B 82 000000B0                  	MOV	EAX,DWORD [176+EDX]
  1386 00000C90 FF 34 18                        	PUSH	DWORD [EAX+EBX*1]
  1387 00000C93 68 003C0000                     	PUSH	3932160
  1388 00000C98 E8 [00000000]                   	CALL	_memman_free_4k
  1389 00000C9D 83 C4 0C                        	ADD	ESP,12
  1390 00000CA0 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1391 00000CA3 8B 82 000000B0                  	MOV	EAX,DWORD [176+EDX]
  1392 00000CA9 C7 04 18 00000000               	MOV	DWORD [EAX+EBX*1],0
  1393 00000CB0 EB A2                           	JMP	L245
  1394 00000CB2                                 L260:
  1395 00000CB2 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1396 00000CB5 39 53 24                        	CMP	DWORD [36+EBX],EDX
  1397 00000CB8 0F 85 FFFFFF7A                  	JNE	L239
  1398 00000CBE 53                              	PUSH	EBX
  1399 00000CBF E8 [00000000]                   	CALL	_sheet_free
  1400 00000CC4 59                              	POP	ECX
  1401 00000CC5 E9 FFFFFF6E                     	JMP	L239
  1402 00000CCA                                 L258:
  1403 00000CCA 80 7C 35 D3 2E                  	CMP	BYTE [-45+EBP+ESI*1],46
  1404 00000CCF 74 2E                           	JE	L229
  1405 00000CD1 68 000000E0                     	PUSH	224
  1406 00000CD6 68 00102600                     	PUSH	1058304
  1407 00000CDB 53                              	PUSH	EBX
  1408 00000CDC C6 44 35 D4 2E                  	MOV	BYTE [-44+EBP+ESI*1],46
  1409 00000CE1 C6 44 35 D5 48                  	MOV	BYTE [-43+EBP+ESI*1],72
  1410 00000CE6 C6 44 35 D6 52                  	MOV	BYTE [-42+EBP+ESI*1],82
  1411 00000CEB C6 44 35 D7 42                  	MOV	BYTE [-41+EBP+ESI*1],66
  1412 00000CF0 C6 44 35 D8 00                  	MOV	BYTE [-40+EBP+ESI*1],0
  1413 00000CF5 E8 [00000000]                   	CALL	_file_search
  1414 00000CFA 83 C4 0C                        	ADD	ESP,12
  1415 00000CFD 89 C2                           	MOV	EDX,EAX
  1416 00000CFF                                 L229:
  1417 00000CFF 85 D2                           	TEST	EDX,EDX
  1418 00000D01 0F 85 FFFFFE0D                  	JNE	L257
  1419 00000D07 31 C0                           	XOR	EAX,EAX
  1420 00000D09 E9 FFFFFE71                     	JMP	L222
  1421                                          [SECTION .data]
  1422 000000BD                                 LC22:
  1423 000000BD 67 64 74 5F 62 61 73 65 3A 20   	DB	"gdt_base: %x  ldt_index: %d",0x0A,"ldt_des: %x  ldt_addr: %x",0x0A,"ds_index: %d  ds_des: %x",0x0A,"ds_addr: %x  log_addr: %x",0x0A,"phy_addr:%x  value: %d",0x0A,0x00
       000000C7 25 78 20 20 6C 64 74 5F 69 6E 
       000000D1 64 65 78 3A 20 25 64 0A 6C 64 
       000000DB 74 5F 64 65 73 3A 20 25 78 20 
       000000E5 20 6C 64 74 5F 61 64 64 72 3A 
       000000EF 20 25 78 0A 64 73 5F 69 6E 64 
       000000F9 65 78 3A 20 25 64 20 20 64 73 
       00000103 5F 64 65 73 3A 20 25 78 0A 64 
       0000010D 73 5F 61 64 64 72 3A 20 25 78 
       00000117 20 20 6C 6F 67 5F 61 64 64 72 
       00000121 3A 20 25 78 0A 70 68 79 5F 61 
       0000012B 64 64 72 3A 25 78 20 20 76 61 
       00000135 6C 75 65 3A 20 25 64 0A 00 
  1424 0000013E                                 LC21:
  1425 0000013E 67 64 74 5F 62 61 73 65 3A 20   	DB	"gdt_base: %x",0x0A,"ldt_base: %x",0x0A,"ds_base: %x",0x0A,"log_addr: %x",0x0A,"phy_addr: %x",0x0A,"value: %d",0x0A,0x00
       00000148 25 78 0A 6C 64 74 5F 62 61 73 
       00000152 65 3A 20 25 78 0A 64 73 5F 62 
       0000015C 61 73 65 3A 20 25 78 0A 6C 6F 
       00000166 67 5F 61 64 64 72 3A 20 25 78 
       00000170 0A 70 68 79 5F 61 64 64 72 3A 
       0000017A 20 25 78 0A 76 61 6C 75 65 3A 
       00000184 20 25 64 0A 00 
  1426                                          [SECTION .text]
  1427 00000D0E                                 	GLOBAL	_hrb_api
  1428 00000D0E                                 _hrb_api:
  1429 00000D0E 55                              	PUSH	EBP
  1430 00000D0F 89 E5                           	MOV	EBP,ESP
  1431 00000D11 57                              	PUSH	EDI
  1432 00000D12 56                              	PUSH	ESI
  1433 00000D13 53                              	PUSH	EBX
  1434 00000D14 81 EC 0000010C                  	SUB	ESP,268
  1435 00000D1A 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
  1436 00000D1D 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1437 00000D20 E8 [00000000]                   	CALL	_task_now
  1438 00000D25 83 FF 01                        	CMP	EDI,1
  1439 00000D28 8B 0D 00000FE4                  	MOV	ECX,DWORD [4068]
  1440 00000D2E 89 85 FFFFFF10                  	MOV	DWORD [-240+EBP],EAX
  1441 00000D34 89 8D FFFFFF04                  	MOV	DWORD [-252+EBP],ECX
  1442 00000D3A 8B 95 FFFFFF10                  	MOV	EDX,DWORD [-240+EBP]
  1443 00000D40 8B 80 000000A8                  	MOV	EAX,DWORD [168+EAX]
  1444 00000D46 89 85 FFFFFF0C                  	MOV	DWORD [-244+EBP],EAX
  1445 00000D4C A1 00000FEC                     	MOV	EAX,DWORD [4076]
  1446 00000D51 8B 92 000000A4                  	MOV	EDX,DWORD [164+EDX]
  1447 00000D57 89 85 FFFFFF00                  	MOV	DWORD [-256+EBP],EAX
  1448 00000D5D 89 95 FFFFFF08                  	MOV	DWORD [-248+EBP],EDX
  1449 00000D63 0F 84 00000956                  	JE	L411
  1450 00000D69 83 FF 02                        	CMP	EDI,2
  1451 00000D6C 0F 84 0000093E                  	JE	L412
  1452 00000D72 83 FF 03                        	CMP	EDI,3
  1453 00000D75 0F 84 00000918                  	JE	L413
  1454 00000D7B 83 FF 04                        	CMP	EDI,4
  1455 00000D7E 0F 84 00000901                  	JE	L414
  1456 00000D84 83 FF 05                        	CMP	EDI,5
  1457 00000D87 0F 84 0000086B                  	JE	L415
  1458 00000D8D 83 FF 06                        	CMP	EDI,6
  1459 00000D90 0F 84 00000818                  	JE	L416
  1460 00000D96 83 FF 07                        	CMP	EDI,7
  1461 00000D99 0F 84 000007DE                  	JE	L417
  1462 00000D9F 83 FF 08                        	CMP	EDI,8
  1463 00000DA2 0F 84 000007AE                  	JE	L418
  1464 00000DA8 83 FF 09                        	CMP	EDI,9
  1465 00000DAB 0F 84 00000785                  	JE	L419
  1466 00000DB1 83 FF 0A                        	CMP	EDI,10
  1467 00000DB4 0F 84 0000075B                  	JE	L420
  1468 00000DBA 83 FF 0B                        	CMP	EDI,11
  1469 00000DBD 0F 84 00000720                  	JE	L421
  1470 00000DC3 83 FF 0C                        	CMP	EDI,12
  1471 00000DC6 0F 84 00000708                  	JE	L422
  1472 00000DCC 83 FF 0D                        	CMP	EDI,13
  1473 00000DCF 0F 84 00000699                  	JE	L423
  1474 00000DD5 83 FF 0E                        	CMP	EDI,14
  1475 00000DD8 0F 84 00000685                  	JE	L424
  1476 00000DDE 83 FF 0F                        	CMP	EDI,15
  1477 00000DE1 0F 84 00000549                  	JE	L298
  1478 00000DE7 83 FF 10                        	CMP	EDI,16
  1479 00000DEA 0F 84 0000052F                  	JE	L425
  1480 00000DF0 83 FF 11                        	CMP	EDI,17
  1481 00000DF3 0F 84 00000508                  	JE	L426
  1482 00000DF9 83 FF 12                        	CMP	EDI,18
  1483 00000DFC 0F 84 000004F1                  	JE	L427
  1484 00000E02 83 FF 13                        	CMP	EDI,19
  1485 00000E05 0F 84 000004DD                  	JE	L428
  1486 00000E0B 83 FF 14                        	CMP	EDI,20
  1487 00000E0E 0F 84 00000465                  	JE	L429
  1488 00000E14 83 FF 15                        	CMP	EDI,21
  1489 00000E17 0F 84 000003D0                  	JE	L430
  1490 00000E1D 83 FF 16                        	CMP	EDI,22
  1491 00000E20 0F 84 000003AA                  	JE	L431
  1492 00000E26 83 FF 17                        	CMP	EDI,23
  1493 00000E29 0F 84 0000035C                  	JE	L432
  1494 00000E2F 83 FF 18                        	CMP	EDI,24
  1495 00000E32 0F 84 00000322                  	JE	L433
  1496 00000E38 83 FF 19                        	CMP	EDI,25
  1497 00000E3B 0F 84 000002EB                  	JE	L434
  1498 00000E41 83 FF 1A                        	CMP	EDI,26
  1499 00000E44 0F 84 000002A9                  	JE	L435
  1500 00000E4A 83 FF 1B                        	CMP	EDI,27
  1501 00000E4D 0F 84 0000028B                  	JE	L436
  1502 00000E53 83 FF 1C                        	CMP	EDI,28
  1503 00000E56 0F 84 000001FE                  	JE	L437
  1504 00000E5C 83 FF 1D                        	CMP	EDI,29
  1505 00000E5F 0F 84 00000132                  	JE	L438
  1506 00000E65 83 FF 1E                        	CMP	EDI,30
  1507 00000E68 0F 84 0000011F                  	JE	L439
  1508 00000E6E 83 FF 1F                        	CMP	EDI,31
  1509 00000E71 0F 84 0000010C                  	JE	L440
  1510 00000E77 83 FF 20                        	CMP	EDI,32
  1511 00000E7A 0F 84 000000F3                  	JE	L441
  1512 00000E80 83 FF 21                        	CMP	EDI,33
  1513 00000E83 0F 84 000000DD                  	JE	L442
  1514 00000E89 83 FF 22                        	CMP	EDI,34
  1515 00000E8C 0F 84 000000C7                  	JE	L443
  1516 00000E92 83 FF 23                        	CMP	EDI,35
  1517 00000E95 0F 84 000000B4                  	JE	L444
  1518 00000E9B 83 FF 24                        	CMP	EDI,36
  1519 00000E9E 0F 84 000000A1                  	JE	L445
  1520 00000EA4 83 FF 25                        	CMP	EDI,37
  1521 00000EA7 0F 84 00000085                  	JE	L446
  1522 00000EAD 83 FF 26                        	CMP	EDI,38
  1523 00000EB0 74 68                           	JE	L447
  1524 00000EB2 83 FF 27                        	CMP	EDI,39
  1525 00000EB5 74 47                           	JE	L448
  1526 00000EB7 83 FF 28                        	CMP	EDI,40
  1527 00000EBA 74 2E                           	JE	L449
  1528 00000EBC 83 FF 29                        	CMP	EDI,41
  1529 00000EBF 74 22                           	JE	L450
  1530 00000EC1 83 FF 2A                        	CMP	EDI,42
  1531 00000EC4 74 16                           	JE	L451
  1532 00000EC6 83 FF 2B                        	CMP	EDI,43
  1533 00000EC9 74 0A                           	JE	L452
  1534 00000ECB                                 L264:
  1535 00000ECB 31 C0                           	XOR	EAX,EAX
  1536 00000ECD                                 L262:
  1537 00000ECD 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1538 00000ED0 5B                              	POP	EBX
  1539 00000ED1 5E                              	POP	ESI
  1540 00000ED2 5F                              	POP	EDI
  1541 00000ED3 5D                              	POP	EBP
  1542 00000ED4 C3                              	RET
  1543 00000ED5                                 L452:
  1544 00000ED5 E8 [00000000]                   	CALL	_unTlock
  1545 00000EDA EB EF                           	JMP	L264
  1546 00000EDC                                 L451:
  1547 00000EDC E8 [00000000]                   	CALL	_Tlock
  1548 00000EE1 EB E8                           	JMP	L264
  1549 00000EE3                                 L450:
  1550 00000EE3 E8 [00000000]                   	CALL	_avoid_sleep
  1551 00000EE8 EB E1                           	JMP	L264
  1552 00000EEA                                 L449:
  1553 00000EEA 8B 85 FFFFFF0C                  	MOV	EAX,DWORD [-244+EBP]
  1554 00000EF0 01 F0                           	ADD	EAX,ESI
  1555 00000EF2 50                              	PUSH	EAX
  1556 00000EF3 E8 [00000000]                   	CALL	_var_free
  1557 00000EF8 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1558 00000EFB                                 L402:
  1559 00000EFB 5B                              	POP	EBX
  1560 00000EFC EB CD                           	JMP	L264
  1561 00000EFE                                 L448:
  1562 00000EFE FF 75 24                        	PUSH	DWORD [36+EBP]
  1563 00000F01 8B 85 FFFFFF0C                  	MOV	EAX,DWORD [-244+EBP]
  1564 00000F07 FF 75 20                        	PUSH	DWORD [32+EBP]
  1565 00000F0A 01 F0                           	ADD	EAX,ESI
  1566 00000F0C 50                              	PUSH	EAX
  1567 00000F0D E8 [00000000]                   	CALL	_var_wrt
  1568 00000F12                                 L410:
  1569 00000F12 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1570 00000F15                                 L405:
  1571 00000F15 83 C4 0C                        	ADD	ESP,12
  1572 00000F18 EB B1                           	JMP	L264
  1573 00000F1A                                 L447:
  1574 00000F1A 8B 85 FFFFFF0C                  	MOV	EAX,DWORD [-244+EBP]
  1575 00000F20 FF 75 20                        	PUSH	DWORD [32+EBP]
  1576 00000F23 01 F0                           	ADD	EAX,ESI
  1577 00000F25 50                              	PUSH	EAX
  1578 00000F26 E8 [00000000]                   	CALL	_var_read
  1579 00000F2B                                 L401:
  1580 00000F2B 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1581 00000F2E                                 L403:
  1582 00000F2E 5E                              	POP	ESI
  1583 00000F2F 5F                              	POP	EDI
  1584 00000F30 EB 99                           	JMP	L264
  1585 00000F32                                 L446:
  1586 00000F32 8B 85 FFFFFF0C                  	MOV	EAX,DWORD [-244+EBP]
  1587 00000F38 FF 75 20                        	PUSH	DWORD [32+EBP]
  1588 00000F3B 01 F0                           	ADD	EAX,ESI
  1589 00000F3D 50                              	PUSH	EAX
  1590 00000F3E E8 [00000000]                   	CALL	_var_create
  1591 00000F43 EB E6                           	JMP	L401
  1592 00000F45                                 L445:
  1593 00000F45 FF 75 24                        	PUSH	DWORD [36+EBP]
  1594 00000F48 E8 00001088                     	CALL	_exiting
  1595 00000F4D EB AC                           	JMP	L402
  1596 00000F4F                                 L444:
  1597 00000F4F FF 75 24                        	PUSH	DWORD [36+EBP]
  1598 00000F52 E8 00000FE8                     	CALL	_entrance
  1599 00000F57 EB A2                           	JMP	L402
  1600 00000F59                                 L443:
  1601 00000F59 FF B5 FFFFFF08                  	PUSH	DWORD [-248+EBP]
  1602 00000F5F E8 00000E3A                     	CALL	_produce
  1603 00000F64 EB 95                           	JMP	L402
  1604 00000F66                                 L442:
  1605 00000F66 FF B5 FFFFFF08                  	PUSH	DWORD [-248+EBP]
  1606 00000F6C E8 00000F13                     	CALL	_consume
  1607 00000F71 EB 88                           	JMP	L402
  1608 00000F73                                 L441:
  1609 00000F73 FF B5 FFFFFF08                  	PUSH	DWORD [-248+EBP]
  1610 00000F79 E8 00000D90                     	CALL	_shareadd
  1611 00000F7E E9 FFFFFF78                     	JMP	L402
  1612 00000F83                                 L440:
  1613 00000F83 E8 00000B27                     	CALL	_cmd_writer
  1614 00000F88 E9 FFFFFF3E                     	JMP	L264
  1615 00000F8D                                 L439:
  1616 00000F8D E8 00000A0C                     	CALL	_cmd_reader
  1617 00000F92 E9 FFFFFF34                     	JMP	L264
  1618 00000F97                                 L438:
  1619 00000F97 C1 FE 03                        	SAR	ESI,3
  1620 00000F9A 8B 95 FFFFFF0C                  	MOV	EDX,DWORD [-244+EBP]
  1621 00000FA0 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1622 00000FA3 8B 4D 20                        	MOV	ECX,DWORD [32+EBP]
  1623 00000FA6 C1 F9 03                        	SAR	ECX,3
  1624 00000FA9 8B 44 10 02                     	MOV	EAX,DWORD [2+EAX+EDX*1]
  1625 00000FAD 89 8D FFFFFEF4                  	MOV	DWORD [-268+EBP],ECX
  1626 00000FB3 89 85 FFFFFEF8                  	MOV	DWORD [-264+EBP],EAX
  1627 00000FB9 8D 3C C8                        	LEA	EDI,DWORD [EAX+ECX*8]
  1628 00000FBC 8B 07                           	MOV	EAX,DWORD [EDI]
  1629 00000FBE 8B 57 04                        	MOV	EDX,DWORD [4+EDI]
  1630 00000FC1 89 C1                           	MOV	ECX,EAX
  1631 00000FC3 89 85 FFFFFEEC                  	MOV	DWORD [-276+EBP],EAX
  1632 00000FC9 0F BE C2                        	MOVSX	EAX,DL
  1633 00000FCC C1 E0 10                        	SAL	EAX,16
  1634 00000FCF 89 95 FFFFFEF0                  	MOV	DWORD [-272+EBP],EDX
  1635 00000FD5 C1 F9 10                        	SAR	ECX,16
  1636 00000FD8 01 C1                           	ADD	ECX,EAX
  1637 00000FDA 8B 85 FFFFFEF0                  	MOV	EAX,DWORD [-272+EBP]
  1638 00000FE0 25 FF000000                     	AND	EAX,-16777216
  1639 00000FE5 01 C1                           	ADD	ECX,EAX
  1640 00000FE7 8D 1C F1                        	LEA	EBX,DWORD [ECX+ESI*8]
  1641 00000FEA 8B 53 04                        	MOV	EDX,DWORD [4+EBX]
  1642 00000FED 8B 03                           	MOV	EAX,DWORD [EBX]
  1643 00000FEF 89 95 FFFFFEF0                  	MOV	DWORD [-272+EBP],EDX
  1644 00000FF5 89 85 FFFFFEEC                  	MOV	DWORD [-276+EBP],EAX
  1645 00000FFB 89 C2                           	MOV	EDX,EAX
  1646 00000FFD 0F BE 85 FFFFFEF0               	MOVSX	EAX,BYTE [-272+EBP]
  1647 00001004 C1 E0 10                        	SAL	EAX,16
  1648 00001007 C1 FA 10                        	SAR	EDX,16
  1649 0000100A 01 C2                           	ADD	EDX,EAX
  1650 0000100C 8B 85 FFFFFEF0                  	MOV	EAX,DWORD [-272+EBP]
  1651 00001012 25 FF000000                     	AND	EAX,-16777216
  1652 00001017 01 C2                           	ADD	EDX,EAX
  1653 00001019 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1654 0000101C 01 D0                           	ADD	EAX,EDX
  1655 0000101E FF 30                           	PUSH	DWORD [EAX]
  1656 00001020 50                              	PUSH	EAX
  1657 00001021 FF 75 10                        	PUSH	DWORD [16+EBP]
  1658 00001024 52                              	PUSH	EDX
  1659 00001025 53                              	PUSH	EBX
  1660 00001026 8D 9D FFFFFF14                  	LEA	EBX,DWORD [-236+EBP]
  1661 0000102C 56                              	PUSH	ESI
  1662 0000102D 51                              	PUSH	ECX
  1663 0000102E 57                              	PUSH	EDI
  1664 0000102F FF B5 FFFFFEF4                  	PUSH	DWORD [-268+EBP]
  1665 00001035 FF B5 FFFFFEF8                  	PUSH	DWORD [-264+EBP]
  1666 0000103B 68 [000000BD]                   	PUSH	LC22
  1667 00001040 53                              	PUSH	EBX
  1668 00001041 E8 [00000000]                   	CALL	_sprintf
  1669 00001046 83 C4 30                        	ADD	ESP,48
  1670 00001049 53                              	PUSH	EBX
  1671 0000104A                                 L409:
  1672 0000104A FF B5 FFFFFF08                  	PUSH	DWORD [-248+EBP]
  1673 00001050 E8 FFFFF473                     	CALL	_cons_putstr0
  1674 00001055 E9 FFFFFED4                     	JMP	L403
  1675 0000105A                                 L437:
  1676 0000105A 8B 95 FFFFFF10                  	MOV	EDX,DWORD [-240+EBP]
  1677 00001060 8B 82 0000008C                  	MOV	EAX,DWORD [140+EDX]
  1678 00001066 8B B0 00270004                  	MOV	ESI,DWORD [2555908+EAX]
  1679 0000106C 8B 98 00270000                  	MOV	EBX,DWORD [2555904+EAX]
  1680 00001072 89 F2                           	MOV	EDX,ESI
  1681 00001074 89 D9                           	MOV	ECX,EBX
  1682 00001076 0F BE C2                        	MOVSX	EAX,DL
  1683 00001079 C1 E0 10                        	SAL	EAX,16
  1684 0000107C C1 F9 10                        	SAR	ECX,16
  1685 0000107F 01 C1                           	ADD	ECX,EAX
  1686 00001081 89 F0                           	MOV	EAX,ESI
  1687 00001083 25 FF000000                     	AND	EAX,-16777216
  1688 00001088 01 C1                           	ADD	ECX,EAX
  1689 0000108A 8B 71 0C                        	MOV	ESI,DWORD [12+ECX]
  1690 0000108D 8B 59 08                        	MOV	EBX,DWORD [8+ECX]
  1691 00001090 89 F0                           	MOV	EAX,ESI
  1692 00001092 89 DA                           	MOV	EDX,EBX
  1693 00001094 0F BE F8                        	MOVSX	EDI,AL
  1694 00001097 C1 FA 10                        	SAR	EDX,16
  1695 0000109A 89 F0                           	MOV	EAX,ESI
  1696 0000109C C1 E7 10                        	SAL	EDI,16
  1697 0000109F 25 FF000000                     	AND	EAX,-16777216
  1698 000010A4 01 FA                           	ADD	EDX,EDI
  1699 000010A6 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  1700 000010A9 01 C2                           	ADD	EDX,EAX
  1701 000010AB 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1702 000010AE 8D 34 10                        	LEA	ESI,DWORD [EAX+EDX*1]
  1703 000010B1 FF 36                           	PUSH	DWORD [ESI]
  1704 000010B3 56                              	PUSH	ESI
  1705 000010B4 50                              	PUSH	EAX
  1706 000010B5 52                              	PUSH	EDX
  1707 000010B6 51                              	PUSH	ECX
  1708 000010B7 68 00270000                     	PUSH	2555904
  1709 000010BC 68 [0000013E]                   	PUSH	LC21
  1710 000010C1 53                              	PUSH	EBX
  1711 000010C2 E8 [00000000]                   	CALL	_sprintf
  1712 000010C7 83 C4 20                        	ADD	ESP,32
  1713 000010CA 53                              	PUSH	EBX
  1714 000010CB FF B5 FFFFFF08                  	PUSH	DWORD [-248+EBP]
  1715 000010D1 E8 FFFFF3F2                     	CALL	_cons_putstr0
  1716 000010D6 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1717 000010D9 E9 FFFFFE50                     	JMP	L403
  1718 000010DE                                 L436:
  1719 000010DE 8B B5 FFFFFF10                  	MOV	ESI,DWORD [-240+EBP]
  1720 000010E4 0F B6 86 000000BC               	MOVZX	EAX,BYTE [188+ESI]
  1721 000010EB                                 L404:
  1722 000010EB 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1723 000010EE E9 FFFFFDD8                     	JMP	L264
  1724 000010F3                                 L435:
  1725 000010F3 31 DB                           	XOR	EBX,EBX
  1726 000010F5                                 L359:
  1727 000010F5 8B 8D FFFFFF0C                  	MOV	ECX,DWORD [-244+EBP]
  1728 000010FB 8D 14 31                        	LEA	EDX,DWORD [ECX+ESI*1]
  1729 000010FE 8B 8D FFFFFF10                  	MOV	ECX,DWORD [-240+EBP]
  1730 00001104 8B 81 000000B8                  	MOV	EAX,DWORD [184+ECX]
  1731 0000110A 8A 04 03                        	MOV	AL,BYTE [EBX+EAX*1]
  1732 0000110D 88 04 13                        	MOV	BYTE [EBX+EDX*1],AL
  1733 00001110 8B 81 000000B8                  	MOV	EAX,DWORD [184+ECX]
  1734 00001116 80 3C 03 00                     	CMP	BYTE [EBX+EAX*1],0
  1735 0000111A 74 08                           	JE	L360
  1736 0000111C 3B 5D 20                        	CMP	EBX,DWORD [32+EBP]
  1737 0000111F 7D 03                           	JGE	L360
  1738 00001121 43                              	INC	EBX
  1739 00001122 EB D1                           	JMP	L359
  1740 00001124                                 L360:
  1741 00001124 89 5D 44                        	MOV	DWORD [68+EBP],EBX
  1742 00001127 E9 FFFFFD9F                     	JMP	L264
  1743 0000112C                                 L434:
  1744 0000112C 31 DB                           	XOR	EBX,EBX
  1745 0000112E 8B 7D 24                        	MOV	EDI,DWORD [36+EBP]
  1746 00001131 3B 5D 20                        	CMP	EBX,DWORD [32+EBP]
  1747 00001134 7D EE                           	JGE	L360
  1748 00001136                                 L356:
  1749 00001136 8B 4F 08                        	MOV	ECX,DWORD [8+EDI]
  1750 00001139 3B 4F 04                        	CMP	ECX,DWORD [4+EDI]
  1751 0000113C 74 E6                           	JE	L360
  1752 0000113E 8B 95 FFFFFF0C                  	MOV	EDX,DWORD [-244+EBP]
  1753 00001144 8D 04 32                        	LEA	EAX,DWORD [EDX+ESI*1]
  1754 00001147 8B 17                           	MOV	EDX,DWORD [EDI]
  1755 00001149 8A 14 11                        	MOV	DL,BYTE [ECX+EDX*1]
  1756 0000114C 88 14 03                        	MOV	BYTE [EBX+EAX*1],DL
  1757 0000114F 43                              	INC	EBX
  1758 00001150 FF 47 08                        	INC	DWORD [8+EDI]
  1759 00001153 3B 5D 20                        	CMP	EBX,DWORD [32+EBP]
  1760 00001156 7C DE                           	JL	L356
  1761 00001158 EB CA                           	JMP	L360
  1762 0000115A                                 L433:
  1763 0000115A 8B 7D 24                        	MOV	EDI,DWORD [36+EBP]
  1764 0000115D 83 7D 20 00                     	CMP	DWORD [32+EBP],0
  1765 00001161 75 05                           	JNE	L344
  1766 00001163 8B 47 04                        	MOV	EAX,DWORD [4+EDI]
  1767 00001166 EB 83                           	JMP	L404
  1768 00001168                                 L344:
  1769 00001168 83 7D 20 01                     	CMP	DWORD [32+EBP],1
  1770 0000116C 74 15                           	JE	L453
  1771 0000116E 83 7D 20 02                     	CMP	DWORD [32+EBP],2
  1772 00001172 0F 85 FFFFFD53                  	JNE	L264
  1773 00001178 8B 47 08                        	MOV	EAX,DWORD [8+EDI]
  1774 0000117B 2B 47 04                        	SUB	EAX,DWORD [4+EDI]
  1775 0000117E E9 FFFFFF68                     	JMP	L404
  1776 00001183                                 L453:
  1777 00001183 8B 47 08                        	MOV	EAX,DWORD [8+EDI]
  1778 00001186 E9 FFFFFF60                     	JMP	L404
  1779 0000118B                                 L432:
  1780 0000118B 8B 7D 24                        	MOV	EDI,DWORD [36+EBP]
  1781 0000118E 83 7D 20 00                     	CMP	DWORD [32+EBP],0
  1782 00001192 74 32                           	JE	L400
  1783 00001194 83 7D 20 01                     	CMP	DWORD [32+EBP],1
  1784 00001198 74 31                           	JE	L454
  1785 0000119A 83 7D 20 02                     	CMP	DWORD [32+EBP],2
  1786 0000119E 74 23                           	JE	L455
  1787 000011A0                                 L336:
  1788 000011A0 83 7F 08 00                     	CMP	DWORD [8+EDI],0
  1789 000011A4 78 14                           	JS	L456
  1790 000011A6                                 L340:
  1791 000011A6 8B 47 04                        	MOV	EAX,DWORD [4+EDI]
  1792 000011A9 39 47 08                        	CMP	DWORD [8+EDI],EAX
  1793 000011AC 0F 8E FFFFFD19                  	JLE	L264
  1794 000011B2 89 47 08                        	MOV	DWORD [8+EDI],EAX
  1795 000011B5 E9 FFFFFD11                     	JMP	L264
  1796 000011BA                                 L456:
  1797 000011BA C7 47 08 00000000               	MOV	DWORD [8+EDI],0
  1798 000011C1 EB E3                           	JMP	L340
  1799 000011C3                                 L455:
  1800 000011C3 03 77 04                        	ADD	ESI,DWORD [4+EDI]
  1801 000011C6                                 L400:
  1802 000011C6 89 77 08                        	MOV	DWORD [8+EDI],ESI
  1803 000011C9 EB D5                           	JMP	L336
  1804 000011CB                                 L454:
  1805 000011CB 01 77 08                        	ADD	DWORD [8+EDI],ESI
  1806 000011CE EB D0                           	JMP	L336
  1807 000011D0                                 L431:
  1808 000011D0 8B 7D 24                        	MOV	EDI,DWORD [36+EBP]
  1809 000011D3 FF 77 04                        	PUSH	DWORD [4+EDI]
  1810 000011D6 FF 37                           	PUSH	DWORD [EDI]
  1811 000011D8 68 003C0000                     	PUSH	3932160
  1812 000011DD E8 [00000000]                   	CALL	_memman_free_4k
  1813 000011E2 C7 07 00000000                  	MOV	DWORD [EDI],0
  1814 000011E8 E9 FFFFFD28                     	JMP	L405
  1815 000011ED                                 L430:
  1816 000011ED 31 DB                           	XOR	EBX,EBX
  1817 000011EF 31 C0                           	XOR	EAX,EAX
  1818 000011F1                                 L328:
  1819 000011F1 8B 8D FFFFFF10                  	MOV	ECX,DWORD [-240+EBP]
  1820 000011F7 8B 91 000000B0                  	MOV	EDX,DWORD [176+ECX]
  1821 000011FD 83 3C 02 00                     	CMP	DWORD [EDX+EAX*1],0
  1822 00001201 74 09                           	JE	L324
  1823 00001203 43                              	INC	EBX
  1824 00001204 83 C0 0C                        	ADD	EAX,12
  1825 00001207 83 FB 07                        	CMP	EBX,7
  1826 0000120A 7E E5                           	JLE	L328
  1827 0000120C                                 L324:
  1828 0000120C 6B C3 0C                        	IMUL	EAX,EBX,12
  1829 0000120F C7 45 44 00000000               	MOV	DWORD [68+EBP],0
  1830 00001216 8D 3C 10                        	LEA	EDI,DWORD [EAX+EDX*1]
  1831 00001219 83 FB 07                        	CMP	EBX,7
  1832 0000121C 0F 8F FFFFFCA9                  	JG	L264
  1833 00001222 8B 95 FFFFFF0C                  	MOV	EDX,DWORD [-244+EBP]
  1834 00001228 68 000000E0                     	PUSH	224
  1835 0000122D 68 00102600                     	PUSH	1058304
  1836 00001232 8D 04 32                        	LEA	EAX,DWORD [EDX+ESI*1]
  1837 00001235 50                              	PUSH	EAX
  1838 00001236 E8 [00000000]                   	CALL	_file_search
  1839 0000123B 83 C4 0C                        	ADD	ESP,12
  1840 0000123E 89 C2                           	MOV	EDX,EAX
  1841 00001240 85 C0                           	TEST	EAX,EAX
  1842 00001242 0F 84 FFFFFC83                  	JE	L264
  1843 00001248 89 7D 44                        	MOV	DWORD [68+EBP],EDI
  1844 0000124B 8B 8D FFFFFF10                  	MOV	ECX,DWORD [-240+EBP]
  1845 00001251 8B 40 1C                        	MOV	EAX,DWORD [28+EAX]
  1846 00001254 89 47 04                        	MOV	DWORD [4+EDI],EAX
  1847 00001257 8D 47 04                        	LEA	EAX,DWORD [4+EDI]
  1848 0000125A C7 47 08 00000000               	MOV	DWORD [8+EDI],0
  1849 00001261 FF B1 000000B4                  	PUSH	DWORD [180+ECX]
  1850 00001267 50                              	PUSH	EAX
  1851 00001268 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  1852 0000126C 50                              	PUSH	EAX
  1853 0000126D E8 [00000000]                   	CALL	_file_loadfile2
  1854 00001272 89 07                           	MOV	DWORD [EDI],EAX
  1855 00001274 E9 FFFFFC9C                     	JMP	L405
  1856 00001279                                 L429:
  1857 00001279 8B 55 24                        	MOV	EDX,DWORD [36+EBP]
  1858 0000127C 85 D2                           	TEST	EDX,EDX
  1859 0000127E 75 19                           	JNE	L319
  1860 00001280 6A 61                           	PUSH	97
  1861 00001282 E8 [00000000]                   	CALL	_io_in8
  1862 00001287 89 C3                           	MOV	EBX,EAX
  1863 00001289 83 E3 0D                        	AND	EBX,13
  1864 0000128C 53                              	PUSH	EBX
  1865 0000128D 6A 61                           	PUSH	97
  1866 0000128F E8 [00000000]                   	CALL	_io_out8
  1867 00001294 E9 FFFFFC7C                     	JMP	L405
  1868 00001299                                 L319:
  1869 00001299 B9 471E7B60                     	MOV	ECX,1193180000
  1870 0000129E 89 D6                           	MOV	ESI,EDX
  1871 000012A0 89 C8                           	MOV	EAX,ECX
  1872 000012A2 68 000000B6                     	PUSH	182
  1873 000012A7 99                              	CDQ
  1874 000012A8 F7 FE                           	IDIV	ESI
  1875 000012AA 6A 43                           	PUSH	67
  1876 000012AC 89 C3                           	MOV	EBX,EAX
  1877 000012AE E8 [00000000]                   	CALL	_io_out8
  1878 000012B3 0F B6 C3                        	MOVZX	EAX,BL
  1879 000012B6 C1 FB 08                        	SAR	EBX,8
  1880 000012B9 50                              	PUSH	EAX
  1881 000012BA 6A 42                           	PUSH	66
  1882 000012BC E8 [00000000]                   	CALL	_io_out8
  1883 000012C1 53                              	PUSH	EBX
  1884 000012C2 6A 42                           	PUSH	66
  1885 000012C4 E8 [00000000]                   	CALL	_io_out8
  1886 000012C9 6A 61                           	PUSH	97
  1887 000012CB E8 [00000000]                   	CALL	_io_in8
  1888 000012D0 89 C3                           	MOV	EBX,EAX
  1889 000012D2 83 CB 03                        	OR	EBX,3
  1890 000012D5 83 E3 0F                        	AND	EBX,15
  1891 000012D8 53                              	PUSH	EBX
  1892 000012D9 6A 61                           	PUSH	97
  1893 000012DB E8 [00000000]                   	CALL	_io_out8
  1894 000012E0 83 C4 24                        	ADD	ESP,36
  1895 000012E3 E9 FFFFFBE3                     	JMP	L264
  1896 000012E8                                 L428:
  1897 000012E8 56                              	PUSH	ESI
  1898 000012E9 E8 [00000000]                   	CALL	_timer_free
  1899 000012EE E9 FFFFFC08                     	JMP	L402
  1900 000012F3                                 L427:
  1901 000012F3 FF 75 24                        	PUSH	DWORD [36+EBP]
  1902 000012F6 56                              	PUSH	ESI
  1903 000012F7 E8 [00000000]                   	CALL	_timer_settime
  1904 000012FC E9 FFFFFC2D                     	JMP	L403
  1905 00001301                                 L426:
  1906 00001301 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1907 00001304 05 00000100                     	ADD	EAX,256
  1908 00001309 50                              	PUSH	EAX
  1909 0000130A 8B 85 FFFFFF10                  	MOV	EAX,DWORD [-240+EBP]
  1910 00001310 83 C0 10                        	ADD	EAX,16
  1911 00001313 50                              	PUSH	EAX
  1912 00001314 56                              	PUSH	ESI
  1913 00001315 E8 [00000000]                   	CALL	_timer_init
  1914 0000131A E9 FFFFFBF6                     	JMP	L405
  1915 0000131F                                 L425:
  1916 0000131F E8 [00000000]                   	CALL	_timer_alloc
  1917 00001324 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1918 00001327 C6 40 09 01                     	MOV	BYTE [9+EAX],1
  1919 0000132B E9 FFFFFB9B                     	JMP	L264
  1920 00001330                                 L298:
  1921 00001330 E8 [00000000]                   	CALL	_io_cli
  1922 00001335 8B 85 FFFFFF10                  	MOV	EAX,DWORD [-240+EBP]
  1923 0000133B 83 C0 10                        	ADD	EAX,16
  1924 0000133E 50                              	PUSH	EAX
  1925 0000133F E8 [00000000]                   	CALL	_fifo32_status
  1926 00001344 5A                              	POP	EDX
  1927 00001345 85 C0                           	TEST	EAX,EAX
  1928 00001347 75 16                           	JNE	L301
  1929 00001349 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  1930 0000134D 0F 84 000000FF                  	JE	L302
  1931 00001353 FF B5 FFFFFF10                  	PUSH	DWORD [-240+EBP]
  1932 00001359 E8 [00000000]                   	CALL	_task_sleep
  1933 0000135E 58                              	POP	EAX
  1934 0000135F                                 L301:
  1935 0000135F 8B B5 FFFFFF10                  	MOV	ESI,DWORD [-240+EBP]
  1936 00001365 83 C6 10                        	ADD	ESI,16
  1937 00001368 56                              	PUSH	ESI
  1938 00001369 E8 [00000000]                   	CALL	_fifo32_get
  1939 0000136E 89 C3                           	MOV	EBX,EAX
  1940 00001370 E8 [00000000]                   	CALL	_io_sti
  1941 00001375 58                              	POP	EAX
  1942 00001376 83 FB 01                        	CMP	EBX,1
  1943 00001379 0F 8E 000000A1                  	JLE	L457
  1944 0000137F                                 L304:
  1945 0000137F 83 FB 02                        	CMP	EBX,2
  1946 00001382 0F 84 00000086                  	JE	L458
  1947 00001388                                 L305:
  1948 00001388 83 FB 03                        	CMP	EBX,3
  1949 0000138B 74 6F                           	JE	L459
  1950 0000138D                                 L306:
  1951 0000138D 83 FB 04                        	CMP	EBX,4
  1952 00001390 74 14                           	JE	L460
  1953 00001392                                 L307:
  1954 00001392 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
  1955 00001398 81 FB 000000FF                  	CMP	EBX,255
  1956 0000139E 0F 8F FFFFFD47                  	JG	L404
  1957 000013A4 EB 8A                           	JMP	L298
  1958 000013A6                                 L460:
  1959 000013A6 8B 95 FFFFFF08                  	MOV	EDX,DWORD [-248+EBP]
  1960 000013AC FF 72 10                        	PUSH	DWORD [16+EDX]
  1961 000013AF E8 [00000000]                   	CALL	_timer_cancel
  1962 000013B4 E8 [00000000]                   	CALL	_io_cli
  1963 000013B9 8B 8D FFFFFF08                  	MOV	ECX,DWORD [-248+EBP]
  1964 000013BF 8B 01                           	MOV	EAX,DWORD [ECX]
  1965 000013C1 2B 85 FFFFFF04                  	SUB	EAX,DWORD [-252+EBP]
  1966 000013C7 2D 00000414                     	SUB	EAX,1044
  1967 000013CC C1 F8 03                        	SAR	EAX,3
  1968 000013CF 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
  1969 000013D5 05 000007E8                     	ADD	EAX,2024
  1970 000013DA 50                              	PUSH	EAX
  1971 000013DB FF B5 FFFFFF00                  	PUSH	DWORD [-256+EBP]
  1972 000013E1 E8 [00000000]                   	CALL	_fifo32_put
  1973 000013E6 8B B5 FFFFFF08                  	MOV	ESI,DWORD [-248+EBP]
  1974 000013EC C7 06 00000000                  	MOV	DWORD [ESI],0
  1975 000013F2 E8 [00000000]                   	CALL	_io_sti
  1976 000013F7 83 C4 0C                        	ADD	ESP,12
  1977 000013FA EB 96                           	JMP	L307
  1978 000013FC                                 L459:
  1979 000013FC 8B 85 FFFFFF08                  	MOV	EAX,DWORD [-248+EBP]
  1980 00001402 C7 40 0C FFFFFFFF               	MOV	DWORD [12+EAX],-1
  1981 00001409 E9 FFFFFF7F                     	JMP	L306
  1982 0000140E                                 L458:
  1983 0000140E 8B B5 FFFFFF08                  	MOV	ESI,DWORD [-248+EBP]
  1984 00001414 C7 46 0C 00000007               	MOV	DWORD [12+ESI],7
  1985 0000141B E9 FFFFFF68                     	JMP	L305
  1986 00001420                                 L457:
  1987 00001420 8B 95 FFFFFF08                  	MOV	EDX,DWORD [-248+EBP]
  1988 00001426 83 3A 00                        	CMP	DWORD [EDX],0
  1989 00001429 0F 84 FFFFFF50                  	JE	L304
  1990 0000142F 6A 01                           	PUSH	1
  1991 00001431 56                              	PUSH	ESI
  1992 00001432 FF 72 10                        	PUSH	DWORD [16+EDX]
  1993 00001435 E8 [00000000]                   	CALL	_timer_init
  1994 0000143A 8B 8D FFFFFF08                  	MOV	ECX,DWORD [-248+EBP]
  1995 00001440 6A 32                           	PUSH	50
  1996 00001442 FF 71 10                        	PUSH	DWORD [16+ECX]
  1997 00001445 E8 [00000000]                   	CALL	_timer_settime
  1998 0000144A 83 C4 14                        	ADD	ESP,20
  1999 0000144D E9 FFFFFF2D                     	JMP	L304
  2000 00001452                                 L302:
  2001 00001452 E8 [00000000]                   	CALL	_io_sti
  2002 00001457 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  2003 0000145E E9 FFFFFA68                     	JMP	L264
  2004 00001463                                 L424:
  2005 00001463 56                              	PUSH	ESI
  2006 00001464 E8 [00000000]                   	CALL	_sheet_free
  2007 00001469 E9 FFFFFA8D                     	JMP	L402
  2008 0000146E                                 L423:
  2009 0000146E FF 75 10                        	PUSH	DWORD [16+EBP]
  2010 00001471 FF 75 08                        	PUSH	DWORD [8+EBP]
  2011 00001474 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2012 00001477 FF 75 20                        	PUSH	DWORD [32+EBP]
  2013 0000147A 89 F7                           	MOV	EDI,ESI
  2014 0000147C FF 75 24                        	PUSH	DWORD [36+EBP]
  2015 0000147F 83 E7 FE                        	AND	EDI,-2
  2016 00001482 57                              	PUSH	EDI
  2017 00001483 E8 000002DB                     	CALL	_hrb_api_linewin
  2018 00001488 83 C4 18                        	ADD	ESP,24
  2019 0000148B 83 E6 01                        	AND	ESI,1
  2020 0000148E 0F 85 FFFFFA37                  	JNE	L264
  2021 00001494 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  2022 00001497 3B 45 0C                        	CMP	EAX,DWORD [12+EBP]
  2023 0000149A 7E 09                           	JLE	L292
  2024 0000149C 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
  2025 0000149F 89 45 0C                        	MOV	DWORD [12+EBP],EAX
  2026 000014A2 89 75 24                        	MOV	DWORD [36+EBP],ESI
  2027 000014A5                                 L292:
  2028 000014A5 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2029 000014A8 39 45 20                        	CMP	DWORD [32+EBP],EAX
  2030 000014AB 7E 09                           	JLE	L293
  2031 000014AD 8B 5D 20                        	MOV	EBX,DWORD [32+EBP]
  2032 000014B0 89 45 20                        	MOV	DWORD [32+EBP],EAX
  2033 000014B3 89 5D 08                        	MOV	DWORD [8+EBP],EBX
  2034 000014B6                                 L293:
  2035 000014B6 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2036 000014B9 40                              	INC	EAX
  2037 000014BA 50                              	PUSH	EAX
  2038 000014BB 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  2039 000014BE 40                              	INC	EAX
  2040 000014BF 50                              	PUSH	EAX
  2041 000014C0 FF 75 20                        	PUSH	DWORD [32+EBP]
  2042 000014C3 FF 75 24                        	PUSH	DWORD [36+EBP]
  2043 000014C6                                 L408:
  2044 000014C6 57                              	PUSH	EDI
  2045 000014C7                                 L406:
  2046 000014C7 E8 [00000000]                   	CALL	_sheet_refresh
  2047 000014CC                                 L407:
  2048 000014CC 83 C4 14                        	ADD	ESP,20
  2049 000014CF E9 FFFFF9F7                     	JMP	L264
  2050 000014D4                                 L422:
  2051 000014D4 FF 75 08                        	PUSH	DWORD [8+EBP]
  2052 000014D7 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2053 000014DA FF 75 20                        	PUSH	DWORD [32+EBP]
  2054 000014DD FF 75 24                        	PUSH	DWORD [36+EBP]
  2055 000014E0 56                              	PUSH	ESI
  2056 000014E1 EB E4                           	JMP	L406
  2057 000014E3                                 L421:
  2058 000014E3 89 F7                           	MOV	EDI,ESI
  2059 000014E5 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2060 000014E8 83 E7 FE                        	AND	EDI,-2
  2061 000014EB 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  2062 000014EE 0F AF 47 04                     	IMUL	EAX,DWORD [4+EDI]
  2063 000014F2 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  2064 000014F5 8B 0F                           	MOV	ECX,DWORD [EDI]
  2065 000014F7 83 E6 01                        	AND	ESI,1
  2066 000014FA 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  2067 000014FD 0F 85 FFFFF9C8                  	JNE	L264
  2068 00001503 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2069 00001506 40                              	INC	EAX
  2070 00001507 50                              	PUSH	EAX
  2071 00001508 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  2072 0000150B 40                              	INC	EAX
  2073 0000150C 50                              	PUSH	EAX
  2074 0000150D FF 75 08                        	PUSH	DWORD [8+EBP]
  2075 00001510 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2076 00001513 EB B1                           	JMP	L408
  2077 00001515                                 L420:
  2078 00001515 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  2079 00001518 8B 8D FFFFFF0C                  	MOV	ECX,DWORD [-244+EBP]
  2080 0000151E 83 C0 0F                        	ADD	EAX,15
  2081 00001521 83 E0 F0                        	AND	EAX,-16
  2082 00001524 50                              	PUSH	EAX
  2083 00001525 8D 04 31                        	LEA	EAX,DWORD [ECX+ESI*1]
  2084 00001528 FF 75 24                        	PUSH	DWORD [36+EBP]
  2085 0000152B 50                              	PUSH	EAX
  2086 0000152C E8 [00000000]                   	CALL	_memman_free
  2087 00001531 E9 FFFFF9DF                     	JMP	L405
  2088 00001536                                 L419:
  2089 00001536 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  2090 00001539 8B 95 FFFFFF0C                  	MOV	EDX,DWORD [-244+EBP]
  2091 0000153F 83 C0 0F                        	ADD	EAX,15
  2092 00001542 6A 00                           	PUSH	0
  2093 00001544 83 E0 F0                        	AND	EAX,-16
  2094 00001547 50                              	PUSH	EAX
  2095 00001548 8D 04 32                        	LEA	EAX,DWORD [EDX+ESI*1]
  2096 0000154B 50                              	PUSH	EAX
  2097 0000154C E8 [00000000]                   	CALL	_memman_alloc
  2098 00001551 E9 FFFFF9BC                     	JMP	L410
  2099 00001556                                 L418:
  2100 00001556 8B 8D FFFFFF0C                  	MOV	ECX,DWORD [-244+EBP]
  2101 0000155C 8D 1C 31                        	LEA	EBX,DWORD [ECX+ESI*1]
  2102 0000155F 53                              	PUSH	EBX
  2103 00001560 E8 [00000000]                   	CALL	_memman_init
  2104 00001565 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  2105 00001569 FF 75 20                        	PUSH	DWORD [32+EBP]
  2106 0000156C FF 75 24                        	PUSH	DWORD [36+EBP]
  2107 0000156F 53                              	PUSH	EBX
  2108 00001570 E8 [00000000]                   	CALL	_memman_free
  2109 00001575 83 C4 10                        	ADD	ESP,16
  2110 00001578 E9 FFFFF94E                     	JMP	L264
  2111 0000157D                                 L417:
  2112 0000157D FF 75 08                        	PUSH	DWORD [8+EBP]
  2113 00001580 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2114 00001583 FF 75 20                        	PUSH	DWORD [32+EBP]
  2115 00001586 89 F7                           	MOV	EDI,ESI
  2116 00001588 FF 75 24                        	PUSH	DWORD [36+EBP]
  2117 0000158B 83 E7 FE                        	AND	EDI,-2
  2118 0000158E 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  2119 00001592 50                              	PUSH	EAX
  2120 00001593 FF 77 04                        	PUSH	DWORD [4+EDI]
  2121 00001596 FF 37                           	PUSH	DWORD [EDI]
  2122 00001598 E8 [00000000]                   	CALL	_boxfill8
  2123 0000159D 83 C4 1C                        	ADD	ESP,28
  2124 000015A0 83 E6 01                        	AND	ESI,1
  2125 000015A3 0F 85 FFFFF922                  	JNE	L264
  2126 000015A9 E9 FFFFFF08                     	JMP	L293
  2127 000015AE                                 L416:
  2128 000015AE 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  2129 000015B1 89 F7                           	MOV	EDI,ESI
  2130 000015B3 03 85 FFFFFF0C                  	ADD	EAX,DWORD [-244+EBP]
  2131 000015B9 83 E7 FE                        	AND	EDI,-2
  2132 000015BC 50                              	PUSH	EAX
  2133 000015BD 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  2134 000015C1 50                              	PUSH	EAX
  2135 000015C2 FF 75 08                        	PUSH	DWORD [8+EBP]
  2136 000015C5 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2137 000015C8 FF 77 04                        	PUSH	DWORD [4+EDI]
  2138 000015CB FF 37                           	PUSH	DWORD [EDI]
  2139 000015CD E8 [00000000]                   	CALL	_putfonts8_asc
  2140 000015D2 83 C4 18                        	ADD	ESP,24
  2141 000015D5 83 E6 01                        	AND	ESI,1
  2142 000015D8 0F 85 FFFFF8ED                  	JNE	L264
  2143 000015DE 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
  2144 000015E1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2145 000015E4 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
  2146 000015E7 83 C0 10                        	ADD	EAX,16
  2147 000015EA 50                              	PUSH	EAX
  2148 000015EB 8D 04 F2                        	LEA	EAX,DWORD [EDX+ESI*8]
  2149 000015EE 50                              	PUSH	EAX
  2150 000015EF FF 75 08                        	PUSH	DWORD [8+EBP]
  2151 000015F2 52                              	PUSH	EDX
  2152 000015F3 E9 FFFFFECE                     	JMP	L408
  2153 000015F8                                 L415:
  2154 000015F8 FF B5 FFFFFF04                  	PUSH	DWORD [-252+EBP]
  2155 000015FE E8 [00000000]                   	CALL	_sheet_alloc
  2156 00001603 8B 95 FFFFFF0C                  	MOV	EDX,DWORD [-244+EBP]
  2157 00001609 89 C7                           	MOV	EDI,EAX
  2158 0000160B 8B 85 FFFFFF10                  	MOV	EAX,DWORD [-240+EBP]
  2159 00001611 8D 1C 32                        	LEA	EBX,DWORD [EDX+ESI*1]
  2160 00001614 89 47 24                        	MOV	DWORD [36+EDI],EAX
  2161 00001617 83 4F 1C 10                     	OR	DWORD [28+EDI],16
  2162 0000161B FF 75 24                        	PUSH	DWORD [36+EBP]
  2163 0000161E FF 75 08                        	PUSH	DWORD [8+EBP]
  2164 00001621 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2165 00001624 53                              	PUSH	EBX
  2166 00001625 57                              	PUSH	EDI
  2167 00001626 E8 [00000000]                   	CALL	_sheet_setbuf
  2168 0000162B 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  2169 0000162E 03 85 FFFFFF0C                  	ADD	EAX,DWORD [-244+EBP]
  2170 00001634 6A 00                           	PUSH	0
  2171 00001636 50                              	PUSH	EAX
  2172 00001637 FF 75 08                        	PUSH	DWORD [8+EBP]
  2173 0000163A FF 75 0C                        	PUSH	DWORD [12+EBP]
  2174 0000163D 53                              	PUSH	EBX
  2175 0000163E BB 00000002                     	MOV	EBX,2
  2176 00001643 E8 [00000000]                   	CALL	_make_window8
  2177 00001648 8B 8D FFFFFF04                  	MOV	ECX,DWORD [-252+EBP]
  2178 0000164E 83 C4 2C                        	ADD	ESP,44
  2179 00001651 8B 41 0C                        	MOV	EAX,DWORD [12+ECX]
  2180 00001654 2B 45 08                        	SUB	EAX,DWORD [8+EBP]
  2181 00001657 99                              	CDQ
  2182 00001658 F7 FB                           	IDIV	EBX
  2183 0000165A 50                              	PUSH	EAX
  2184 0000165B 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
  2185 0000165E 2B 45 0C                        	SUB	EAX,DWORD [12+EBP]
  2186 00001661 99                              	CDQ
  2187 00001662 F7 FB                           	IDIV	EBX
  2188 00001664 83 E0 FC                        	AND	EAX,-4
  2189 00001667 50                              	PUSH	EAX
  2190 00001668 57                              	PUSH	EDI
  2191 00001669 E8 [00000000]                   	CALL	_sheet_slide
  2192 0000166E 8B 8D FFFFFF04                  	MOV	ECX,DWORD [-252+EBP]
  2193 00001674 FF 71 10                        	PUSH	DWORD [16+ECX]
  2194 00001677 57                              	PUSH	EDI
  2195 00001678 E8 [00000000]                   	CALL	_sheet_updown
  2196 0000167D 89 7D 44                        	MOV	DWORD [68+EBP],EDI
  2197 00001680 E9 FFFFFE47                     	JMP	L407
  2198 00001685                                 L414:
  2199 00001685 8B 85 FFFFFF10                  	MOV	EAX,DWORD [-240+EBP]
  2200 0000168B 83 C0 30                        	ADD	EAX,48
  2201 0000168E E9 FFFFF83A                     	JMP	L262
  2202 00001693                                 L413:
  2203 00001693 8B 8D FFFFFF0C                  	MOV	ECX,DWORD [-244+EBP]
  2204 00001699 FF 75 20                        	PUSH	DWORD [32+EBP]
  2205 0000169C 8D 04 31                        	LEA	EAX,DWORD [ECX+ESI*1]
  2206 0000169F 50                              	PUSH	EAX
  2207 000016A0 FF B5 FFFFFF08                  	PUSH	DWORD [-248+EBP]
  2208 000016A6 E8 FFFFEE4B                     	CALL	_cons_putstr1
  2209 000016AB E9 FFFFF865                     	JMP	L405
  2210 000016B0                                 L412:
  2211 000016B0 8B 95 FFFFFF0C                  	MOV	EDX,DWORD [-244+EBP]
  2212 000016B6 8D 04 32                        	LEA	EAX,DWORD [EDX+ESI*1]
  2213 000016B9 50                              	PUSH	EAX
  2214 000016BA E9 FFFFF98B                     	JMP	L409
  2215 000016BF                                 L411:
  2216 000016BF 6A 01                           	PUSH	1
  2217 000016C1 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  2218 000016C5 50                              	PUSH	EAX
  2219 000016C6 52                              	PUSH	EDX
  2220 000016C7 E8 FFFFEC63                     	CALL	_cons_putchar
  2221 000016CC E9 FFFFF844                     	JMP	L405
  2222                                          [SECTION .data]
  2223 00000189                                 LC23:
  2224 00000189 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       00000193 20 53 74 61 63 6B 20 45 78 63 
       0000019D 65 70 74 69 6F 6E 2E 0A 00 
  2225 000001A6                                 LC24:
  2226 000001A6 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000001B0 0A 00 
  2227                                          [SECTION .text]
  2228 000016D1                                 	GLOBAL	_inthandler0c
  2229 000016D1                                 _inthandler0c:
  2230 000016D1 55                              	PUSH	EBP
  2231 000016D2 89 E5                           	MOV	EBP,ESP
  2232 000016D4 57                              	PUSH	EDI
  2233 000016D5 56                              	PUSH	ESI
  2234 000016D6 53                              	PUSH	EBX
  2235 000016D7 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  2236 000016DA 83 EC 20                        	SUB	ESP,32
  2237 000016DD E8 [00000000]                   	CALL	_task_now
  2238 000016E2 89 C6                           	MOV	ESI,EAX
  2239 000016E4 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  2240 000016EA 83 C6 30                        	ADD	ESI,48
  2241 000016ED 68 [00000189]                   	PUSH	LC23
  2242 000016F2 57                              	PUSH	EDI
  2243 000016F3 E8 FFFFEDD0                     	CALL	_cons_putstr0
  2244 000016F8 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2245 000016FB FF 70 2C                        	PUSH	DWORD [44+EAX]
  2246 000016FE 68 [000001A6]                   	PUSH	LC24
  2247 00001703 53                              	PUSH	EBX
  2248 00001704 E8 [00000000]                   	CALL	_sprintf
  2249 00001709 53                              	PUSH	EBX
  2250 0000170A 57                              	PUSH	EDI
  2251 0000170B E8 FFFFEDB8                     	CALL	_cons_putstr0
  2252 00001710 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2253 00001713 5B                              	POP	EBX
  2254 00001714 89 F0                           	MOV	EAX,ESI
  2255 00001716 5E                              	POP	ESI
  2256 00001717 5F                              	POP	EDI
  2257 00001718 5D                              	POP	EBP
  2258 00001719 C3                              	RET
  2259                                          [SECTION .data]
  2260 000001B2                                 LC25:
  2261 000001B2 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000001BC 20 47 65 6E 65 72 61 6C 20 50 
       000001C6 72 6F 74 65 63 74 65 64 20 45 
       000001D0 78 63 65 70 74 69 6F 6E 2E 0A 
       000001DA 00 
  2262                                          [SECTION .text]
  2263 0000171A                                 	GLOBAL	_inthandler0d
  2264 0000171A                                 _inthandler0d:
  2265 0000171A 55                              	PUSH	EBP
  2266 0000171B 89 E5                           	MOV	EBP,ESP
  2267 0000171D 57                              	PUSH	EDI
  2268 0000171E 56                              	PUSH	ESI
  2269 0000171F 53                              	PUSH	EBX
  2270 00001720 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  2271 00001723 83 EC 20                        	SUB	ESP,32
  2272 00001726 E8 [00000000]                   	CALL	_task_now
  2273 0000172B 89 C6                           	MOV	ESI,EAX
  2274 0000172D 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  2275 00001733 83 C6 30                        	ADD	ESI,48
  2276 00001736 68 [000001B2]                   	PUSH	LC25
  2277 0000173B 57                              	PUSH	EDI
  2278 0000173C E8 FFFFED87                     	CALL	_cons_putstr0
  2279 00001741 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  2280 00001744 FF 70 2C                        	PUSH	DWORD [44+EAX]
  2281 00001747 68 [000001A6]                   	PUSH	LC24
  2282 0000174C 53                              	PUSH	EBX
  2283 0000174D E8 [00000000]                   	CALL	_sprintf
  2284 00001752 53                              	PUSH	EBX
  2285 00001753 57                              	PUSH	EDI
  2286 00001754 E8 FFFFED6F                     	CALL	_cons_putstr0
  2287 00001759 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2288 0000175C 5B                              	POP	EBX
  2289 0000175D 89 F0                           	MOV	EAX,ESI
  2290 0000175F 5E                              	POP	ESI
  2291 00001760 5F                              	POP	EDI
  2292 00001761 5D                              	POP	EBP
  2293 00001762 C3                              	RET
  2294 00001763                                 	GLOBAL	_hrb_api_linewin
  2295 00001763                                 _hrb_api_linewin:
  2296 00001763 55                              	PUSH	EBP
  2297 00001764 89 E5                           	MOV	EBP,ESP
  2298 00001766 57                              	PUSH	EDI
  2299 00001767 56                              	PUSH	ESI
  2300 00001768 53                              	PUSH	EBX
  2301 00001769 83 EC 0C                        	SUB	ESP,12
  2302 0000176C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  2303 0000176F 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  2304 00001772 89 D9                           	MOV	ECX,EBX
  2305 00001774 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  2306 00001777 C1 E1 0A                        	SAL	ECX,10
  2307 0000177A 89 D7                           	MOV	EDI,EDX
  2308 0000177C 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  2309 0000177F 89 C6                           	MOV	ESI,EAX
  2310 00001781 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  2311 00001784 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  2312 00001787 C1 E1 0A                        	SAL	ECX,10
  2313 0000178A 29 DE                           	SUB	ESI,EBX
  2314 0000178C 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  2315 0000178F 0F 88 000000A3                  	JS	L485
  2316 00001795                                 L464:
  2317 00001795 85 FF                           	TEST	EDI,EDI
  2318 00001797 0F 88 00000094                  	JS	L486
  2319 0000179D                                 L465:
  2320 0000179D 39 FE                           	CMP	ESI,EDI
  2321 0000179F 7C 62                           	JL	L466
  2322 000017A1 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  2323 000017A4 39 C3                           	CMP	EBX,EAX
  2324 000017A6 BE FFFFFC00                     	MOV	ESI,-1024
  2325 000017AB 7F 05                           	JG	L468
  2326 000017AD BE 00000400                     	MOV	ESI,1024
  2327 000017B2                                 L468:
  2328 000017B2 39 55 10                        	CMP	DWORD [16+EBP],EDX
  2329 000017B5 7F 46                           	JG	L469
  2330 000017B7 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  2331 000017BA 42                              	INC	EDX
  2332 000017BB                                 L484:
  2333 000017BB C1 E2 0A                        	SAL	EDX,10
  2334 000017BE 89 D0                           	MOV	EAX,EDX
  2335 000017C0 99                              	CDQ
  2336 000017C1 F7 F9                           	IDIV	ECX
  2337 000017C3 89 C7                           	MOV	EDI,EAX
  2338 000017C5                                 L471:
  2339 000017C5 85 C9                           	TEST	ECX,ECX
  2340 000017C7 7E 2C                           	JLE	L482
  2341 000017C9 89 CB                           	MOV	EBX,ECX
  2342 000017CB                                 L480:
  2343 000017CB 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  2344 000017CE 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  2345 000017D1 C1 F8 0A                        	SAR	EAX,10
  2346 000017D4 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  2347 000017D7 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  2348 000017DB C1 F9 0A                        	SAR	ECX,10
  2349 000017DE 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  2350 000017E1 8B 0A                           	MOV	ECX,DWORD [EDX]
  2351 000017E3 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  2352 000017E6 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  2353 000017E9 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  2354 000017EC 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  2355 000017EF 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  2356 000017F2 4B                              	DEC	EBX
  2357 000017F3 75 D6                           	JNE	L480
  2358 000017F5                                 L482:
  2359 000017F5 83 C4 0C                        	ADD	ESP,12
  2360 000017F8 5B                              	POP	EBX
  2361 000017F9 5E                              	POP	ESI
  2362 000017FA 5F                              	POP	EDI
  2363 000017FB 5D                              	POP	EBP
  2364 000017FC C3                              	RET
  2365 000017FD                                 L469:
  2366 000017FD 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  2367 00001800 4A                              	DEC	EDX
  2368 00001801 EB B8                           	JMP	L484
  2369 00001803                                 L466:
  2370 00001803 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  2371 00001806 39 55 10                        	CMP	DWORD [16+EBP],EDX
  2372 00001809 BF FFFFFC00                     	MOV	EDI,-1024
  2373 0000180E 7F 05                           	JG	L473
  2374 00001810 BF 00000400                     	MOV	EDI,1024
  2375 00001815                                 L473:
  2376 00001815 39 C3                           	CMP	EBX,EAX
  2377 00001817 7F 11                           	JG	L474
  2378 00001819 29 D8                           	SUB	EAX,EBX
  2379 0000181B 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  2380 0000181E                                 L483:
  2381 0000181E C1 E2 0A                        	SAL	EDX,10
  2382 00001821 89 D0                           	MOV	EAX,EDX
  2383 00001823 99                              	CDQ
  2384 00001824 F7 F9                           	IDIV	ECX
  2385 00001826 89 C6                           	MOV	ESI,EAX
  2386 00001828 EB 9B                           	JMP	L471
  2387 0000182A                                 L474:
  2388 0000182A 29 D8                           	SUB	EAX,EBX
  2389 0000182C 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  2390 0000182F EB ED                           	JMP	L483
  2391 00001831                                 L486:
  2392 00001831 F7 DF                           	NEG	EDI
  2393 00001833 E9 FFFFFF65                     	JMP	L465
  2394 00001838                                 L485:
  2395 00001838 F7 DE                           	NEG	ESI
  2396 0000183A E9 FFFFFF56                     	JMP	L464
  2397                                          [SECTION .data]
  2398 000001DB                                 LC26:
  2399 000001DB 25 73 20 69 73 20 77 61 69 74   	DB	"%s is waiting %s!",0x0A,0x00
       000001E5 69 6E 67 20 25 73 21 0A 00 
  2400                                          [SECTION .text]
  2401 0000183F                                 	GLOBAL	_wait
  2402 0000183F                                 _wait:
  2403 0000183F 55                              	PUSH	EBP
  2404 00001840 89 E5                           	MOV	EBP,ESP
  2405 00001842 57                              	PUSH	EDI
  2406 00001843 56                              	PUSH	ESI
  2407 00001844 53                              	PUSH	EBX
  2408 00001845 83 EC 74                        	SUB	ESP,116
  2409 00001848 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
  2410 0000184B 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
  2411 0000184E E8 [00000000]                   	CALL	_io_load_eflags
  2412 00001853 89 45 80                        	MOV	DWORD [-128+EBP],EAX
  2413 00001856 E8 [00000000]                   	CALL	_io_cli
  2414 0000185B 8B 46 08                        	MOV	EAX,DWORD [8+ESI]
  2415 0000185E 48                              	DEC	EAX
  2416 0000185F 89 46 08                        	MOV	DWORD [8+ESI],EAX
  2417 00001862 85 C0                           	TEST	EAX,EAX
  2418 00001864 78 10                           	JS	L491
  2419 00001866                                 L488:
  2420 00001866 FF 75 80                        	PUSH	DWORD [-128+EBP]
  2421 00001869 E8 [00000000]                   	CALL	_io_store_eflags
  2422 0000186E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2423 00001871 5B                              	POP	EBX
  2424 00001872 5E                              	POP	ESI
  2425 00001873 5F                              	POP	EDI
  2426 00001874 5D                              	POP	EBP
  2427 00001875 C3                              	RET
  2428 00001876                                 L491:
  2429 00001876 FF 75 10                        	PUSH	DWORD [16+EBP]
  2430 00001879 57                              	PUSH	EDI
  2431 0000187A 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  2432 0000187D 68 [000001DB]                   	PUSH	LC26
  2433 00001882 53                              	PUSH	EBX
  2434 00001883 E8 [00000000]                   	CALL	_sprintf
  2435 00001888 53                              	PUSH	EBX
  2436 00001889 8B 47 64                        	MOV	EAX,DWORD [100+EDI]
  2437 0000188C FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2438 00001892 E8 FFFFEC31                     	CALL	_cons_putstr0
  2439 00001897 8B 06                           	MOV	EAX,DWORD [ESI]
  2440 00001899 83 C4 18                        	ADD	ESP,24
  2441 0000189C 85 C0                           	TEST	EAX,EAX
  2442 0000189E 75 17                           	JNE	L489
  2443 000018A0 89 7E 04                        	MOV	DWORD [4+ESI],EDI
  2444 000018A3 89 3E                           	MOV	DWORD [ESI],EDI
  2445 000018A5 C7 47 68 00000000               	MOV	DWORD [104+EDI],0
  2446 000018AC                                 L490:
  2447 000018AC FF 77 64                        	PUSH	DWORD [100+EDI]
  2448 000018AF E8 [00000000]                   	CALL	_task_sleep
  2449 000018B4 59                              	POP	ECX
  2450 000018B5 EB AF                           	JMP	L488
  2451 000018B7                                 L489:
  2452 000018B7 89 78 68                        	MOV	DWORD [104+EAX],EDI
  2453 000018BA 8B 06                           	MOV	EAX,DWORD [ESI]
  2454 000018BC 8B 40 68                        	MOV	EAX,DWORD [104+EAX]
  2455 000018BF 89 06                           	MOV	DWORD [ESI],EAX
  2456 000018C1 C7 40 68 00000000               	MOV	DWORD [104+EAX],0
  2457 000018C8 EB E2                           	JMP	L490
  2458                                          [SECTION .data]
  2459 000001EE                                 LC27:
  2460 000001EE 25 73 20 61 6C 72 65 61 64 79   	DB	"%s already get %s.",0x0A,0x00
       000001F8 20 67 65 74 20 25 73 2E 0A 00 
  2461                                          [SECTION .text]
  2462 000018CA                                 	GLOBAL	_signal
  2463 000018CA                                 _signal:
  2464 000018CA 55                              	PUSH	EBP
  2465 000018CB 89 E5                           	MOV	EBP,ESP
  2466 000018CD 57                              	PUSH	EDI
  2467 000018CE 56                              	PUSH	ESI
  2468 000018CF 53                              	PUSH	EBX
  2469 000018D0 83 EC 70                        	SUB	ESP,112
  2470 000018D3 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  2471 000018D6 E8 [00000000]                   	CALL	_io_load_eflags
  2472 000018DB 89 C7                           	MOV	EDI,EAX
  2473 000018DD E8 [00000000]                   	CALL	_io_cli
  2474 000018E2 8B 43 08                        	MOV	EAX,DWORD [8+EBX]
  2475 000018E5 40                              	INC	EAX
  2476 000018E6 89 43 08                        	MOV	DWORD [8+EBX],EAX
  2477 000018E9 85 C0                           	TEST	EAX,EAX
  2478 000018EB 7E 0E                           	JLE	L496
  2479 000018ED                                 L493:
  2480 000018ED 57                              	PUSH	EDI
  2481 000018EE E8 [00000000]                   	CALL	_io_store_eflags
  2482 000018F3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2483 000018F6 5B                              	POP	EBX
  2484 000018F7 5E                              	POP	ESI
  2485 000018F8 5F                              	POP	EDI
  2486 000018F9 5D                              	POP	EBP
  2487 000018FA C3                              	RET
  2488 000018FB                                 L496:
  2489 000018FB 8B 73 04                        	MOV	ESI,DWORD [4+EBX]
  2490 000018FE 3B 33                           	CMP	ESI,DWORD [EBX]
  2491 00001900 74 38                           	JE	L497
  2492 00001902 8B 46 68                        	MOV	EAX,DWORD [104+ESI]
  2493 00001905 89 43 04                        	MOV	DWORD [4+EBX],EAX
  2494 00001908                                 L495:
  2495 00001908 6A FF                           	PUSH	-1
  2496 0000190A 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  2497 0000190D 6A FF                           	PUSH	-1
  2498 0000190F FF 76 64                        	PUSH	DWORD [100+ESI]
  2499 00001912 E8 [00000000]                   	CALL	_task_run
  2500 00001917 FF 75 0C                        	PUSH	DWORD [12+EBP]
  2501 0000191A 56                              	PUSH	ESI
  2502 0000191B 68 [000001EE]                   	PUSH	LC27
  2503 00001920 53                              	PUSH	EBX
  2504 00001921 E8 [00000000]                   	CALL	_sprintf
  2505 00001926 53                              	PUSH	EBX
  2506 00001927 8B 46 64                        	MOV	EAX,DWORD [100+ESI]
  2507 0000192A FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2508 00001930 E8 FFFFEB93                     	CALL	_cons_putstr0
  2509 00001935 83 C4 24                        	ADD	ESP,36
  2510 00001938 EB B3                           	JMP	L493
  2511 0000193A                                 L497:
  2512 0000193A C7 03 00000000                  	MOV	DWORD [EBX],0
  2513 00001940 C7 43 04 00000000               	MOV	DWORD [4+EBX],0
  2514 00001947 EB BF                           	JMP	L495
  2515 00001949                                 	GLOBAL	_init_S
  2516 00001949                                 _init_S:
  2517 00001949 55                              	PUSH	EBP
  2518 0000194A 89 E5                           	MOV	EBP,ESP
  2519 0000194C 5D                              	POP	EBP
  2520 0000194D C7 05 [00000008] 00000001       	MOV	DWORD [_mutex+8],1
  2521 00001957 C7 05 [00000004] 00000000       	MOV	DWORD [_mutex+4],0
  2522 00001961 C7 05 [00000000] 00000000       	MOV	DWORD [_mutex],0
  2523 0000196B C7 05 [00000008] 00000001       	MOV	DWORD [_wrt+8],1
  2524 00001975 C7 05 [00000004] 00000000       	MOV	DWORD [_wrt+4],0
  2525 0000197F C7 05 [00000000] 00000000       	MOV	DWORD [_wrt],0
  2526 00001989 C7 05 [00000000] 00000000       	MOV	DWORD [_readcount],0
  2527 00001993 C7 05 [00000000] 00000000       	MOV	DWORD [_share_bupt],0
  2528 0000199D C3                              	RET
  2529                                          [SECTION .data]
  2530 00000202                                 LC28:
  2531 00000202 72 65 61 64 65 72 20 25 64 00   	DB	"reader %d",0x00
  2532 0000020C                                 LC29:
  2533 0000020C 6D 75 74 65 78 00               	DB	"mutex",0x00
  2534 00000212                                 LC31:
  2535 00000212 25 73 20 67 65 74 20 73 68 61   	DB	"%s get share=%d|| %d",0x0A,0x00
       0000021C 72 65 3D 25 64 7C 7C 20 25 64 
       00000226 0A 00 
  2536 00000228                                 LC30:
  2537 00000228 77 72 74 00                     	DB	"wrt",0x00
  2538                                          [SECTION .text]
  2539 0000199E                                 	GLOBAL	_cmd_reader
  2540 0000199E                                 _cmd_reader:
  2541 0000199E 55                              	PUSH	EBP
  2542 0000199F 89 E5                           	MOV	EBP,ESP
  2543 000019A1 57                              	PUSH	EDI
  2544 000019A2 56                              	PUSH	ESI
  2545 000019A3 53                              	PUSH	EBX
  2546 000019A4 31 DB                           	XOR	EBX,EBX
  2547 000019A6 81 EC 000000E0                  	SUB	ESP,224
  2548 000019AC C7 85 FFFFFF7C 00000000         	MOV	DWORD [-132+EBP],0
  2549 000019B6 E8 [00000000]                   	CALL	_task_now
  2550 000019BB 89 85 FFFFFF78                  	MOV	DWORD [-136+EBP],EAX
  2551 000019C1                                 L506:
  2552 000019C1 A1 [00000000]                   	MOV	EAX,DWORD [_readcount]
  2553 000019C6 8D B5 FFFFFF14                  	LEA	ESI,DWORD [-236+EBP]
  2554 000019CC 40                              	INC	EAX
  2555 000019CD 50                              	PUSH	EAX
  2556 000019CE 68 [00000202]                   	PUSH	LC28
  2557 000019D3 56                              	PUSH	ESI
  2558 000019D4 E8 [00000000]                   	CALL	_sprintf
  2559 000019D9 68 [0000020C]                   	PUSH	LC29
  2560 000019DE 56                              	PUSH	ESI
  2561 000019DF 68 [00000000]                   	PUSH	_mutex
  2562 000019E4 E8 FFFFFE56                     	CALL	_wait
  2563 000019E9 83 C4 18                        	ADD	ESP,24
  2564 000019EC A1 [00000000]                   	MOV	EAX,DWORD [_readcount]
  2565 000019F1 40                              	INC	EAX
  2566 000019F2 A3 [00000000]                   	MOV	DWORD [_readcount],EAX
  2567 000019F7 48                              	DEC	EAX
  2568 000019F8 0F 84 00000099                  	JE	L507
  2569 000019FE                                 L503:
  2570 000019FE 68 [0000020C]                   	PUSH	LC29
  2571 00001A03 8D 7B 01                        	LEA	EDI,DWORD [1+EBX]
  2572 00001A06 68 [00000000]                   	PUSH	_mutex
  2573 00001A0B 8D 5D 84                        	LEA	EBX,DWORD [-124+EBP]
  2574 00001A0E E8 FFFFFEB7                     	CALL	_signal
  2575 00001A13 57                              	PUSH	EDI
  2576 00001A14 FF 35 [00000000]                	PUSH	DWORD [_share_bupt]
  2577 00001A1A 56                              	PUSH	ESI
  2578 00001A1B 68 [00000212]                   	PUSH	LC31
  2579 00001A20 53                              	PUSH	EBX
  2580 00001A21 E8 [00000000]                   	CALL	_sprintf
  2581 00001A26 8B 85 FFFFFF78                  	MOV	EAX,DWORD [-136+EBP]
  2582 00001A2C 53                              	PUSH	EBX
  2583 00001A2D FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2584 00001A33 E8 FFFFEA90                     	CALL	_cons_putstr0
  2585 00001A38 83 C4 24                        	ADD	ESP,36
  2586 00001A3B 68 [0000020C]                   	PUSH	LC29
  2587 00001A40 56                              	PUSH	ESI
  2588 00001A41 68 [00000000]                   	PUSH	_mutex
  2589 00001A46 E8 FFFFFDF4                     	CALL	_wait
  2590 00001A4B 83 C4 0C                        	ADD	ESP,12
  2591 00001A4E A1 [00000000]                   	MOV	EAX,DWORD [_readcount]
  2592 00001A53 48                              	DEC	EAX
  2593 00001A54 A3 [00000000]                   	MOV	DWORD [_readcount],EAX
  2594 00001A59 85 C0                           	TEST	EAX,EAX
  2595 00001A5B 74 27                           	JE	L508
  2596 00001A5D                                 L504:
  2597 00001A5D 68 [0000020C]                   	PUSH	LC29
  2598 00001A62 89 FB                           	MOV	EBX,EDI
  2599 00001A64 68 [00000000]                   	PUSH	_mutex
  2600 00001A69 E8 FFFFFE5C                     	CALL	_signal
  2601 00001A6E 81 FB 000003E8                  	CMP	EBX,1000
  2602 00001A74 5E                              	POP	ESI
  2603 00001A75 5F                              	POP	EDI
  2604 00001A76 0F 85 FFFFFF45                  	JNE	L506
  2605 00001A7C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2606 00001A7F 5B                              	POP	EBX
  2607 00001A80 5E                              	POP	ESI
  2608 00001A81 5F                              	POP	EDI
  2609 00001A82 5D                              	POP	EBP
  2610 00001A83 C3                              	RET
  2611 00001A84                                 L508:
  2612 00001A84 68 [00000228]                   	PUSH	LC30
  2613 00001A89 68 [00000000]                   	PUSH	_wrt
  2614 00001A8E E8 FFFFFE37                     	CALL	_signal
  2615 00001A93 58                              	POP	EAX
  2616 00001A94 5A                              	POP	EDX
  2617 00001A95 EB C6                           	JMP	L504
  2618 00001A97                                 L507:
  2619 00001A97 68 [00000228]                   	PUSH	LC30
  2620 00001A9C 56                              	PUSH	ESI
  2621 00001A9D 68 [00000000]                   	PUSH	_wrt
  2622 00001AA2 E8 FFFFFD98                     	CALL	_wait
  2623 00001AA7 83 C4 0C                        	ADD	ESP,12
  2624 00001AAA E9 FFFFFF4F                     	JMP	L503
  2625                                          [SECTION .data]
  2626 0000022C                                 LC32:
  2627 0000022C 25 73 20 68 61 76 65 20 77 72   	DB	"%s have written share=%d|| %d",0x0A,0x00
       00000236 69 74 74 65 6E 20 73 68 61 72 
       00000240 65 3D 25 64 7C 7C 20 25 64 0A 
       0000024A 00 
  2628                                          [SECTION .text]
  2629 00001AAF                                 	GLOBAL	_cmd_writer
  2630 00001AAF                                 _cmd_writer:
  2631 00001AAF 55                              	PUSH	EBP
  2632 00001AB0 89 E5                           	MOV	EBP,ESP
  2633 00001AB2 56                              	PUSH	ESI
  2634 00001AB3 53                              	PUSH	EBX
  2635 00001AB4 31 F6                           	XOR	ESI,ESI
  2636 00001AB6 81 EC 000000E0                  	SUB	ESP,224
  2637 00001ABC C7 45 80 00000000               	MOV	DWORD [-128+EBP],0
  2638 00001AC3 E8 [00000000]                   	CALL	_task_now
  2639 00001AC8 68 [00000035]                   	PUSH	LC9
  2640 00001ACD 89 85 FFFFFF7C                  	MOV	DWORD [-132+EBP],EAX
  2641 00001AD3 8D 85 FFFFFF18                  	LEA	EAX,DWORD [-232+EBP]
  2642 00001AD9 50                              	PUSH	EAX
  2643 00001ADA E8 [00000000]                   	CALL	_sprintf
  2644 00001ADF 59                              	POP	ECX
  2645 00001AE0 5B                              	POP	EBX
  2646 00001AE1                                 L514:
  2647 00001AE1 68 [00000228]                   	PUSH	LC30
  2648 00001AE6 8D 9D FFFFFF18                  	LEA	EBX,DWORD [-232+EBP]
  2649 00001AEC 53                              	PUSH	EBX
  2650 00001AED 46                              	INC	ESI
  2651 00001AEE 68 [00000000]                   	PUSH	_wrt
  2652 00001AF3 E8 FFFFFD47                     	CALL	_wait
  2653 00001AF8 56                              	PUSH	ESI
  2654 00001AF9 A1 [00000000]                   	MOV	EAX,DWORD [_share_bupt]
  2655 00001AFE 40                              	INC	EAX
  2656 00001AFF 50                              	PUSH	EAX
  2657 00001B00 A3 [00000000]                   	MOV	DWORD [_share_bupt],EAX
  2658 00001B05 53                              	PUSH	EBX
  2659 00001B06 8D 5D 88                        	LEA	EBX,DWORD [-120+EBP]
  2660 00001B09 68 [0000022C]                   	PUSH	LC32
  2661 00001B0E 53                              	PUSH	EBX
  2662 00001B0F E8 [00000000]                   	CALL	_sprintf
  2663 00001B14 8B 85 FFFFFF7C                  	MOV	EAX,DWORD [-132+EBP]
  2664 00001B1A 83 C4 20                        	ADD	ESP,32
  2665 00001B1D 53                              	PUSH	EBX
  2666 00001B1E FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2667 00001B24 E8 FFFFE99F                     	CALL	_cons_putstr0
  2668 00001B29 68 [00000228]                   	PUSH	LC30
  2669 00001B2E 68 [00000000]                   	PUSH	_wrt
  2670 00001B33 E8 FFFFFD92                     	CALL	_signal
  2671 00001B38 83 C4 10                        	ADD	ESP,16
  2672 00001B3B 81 FE 000003E8                  	CMP	ESI,1000
  2673 00001B41 75 9E                           	JNE	L514
  2674 00001B43 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  2675 00001B46 5B                              	POP	EBX
  2676 00001B47 5E                              	POP	ESI
  2677 00001B48 5D                              	POP	EBP
  2678 00001B49 C3                              	RET
  2679 00001B4A                                 	GLOBAL	_char2int
  2680 00001B4A                                 _char2int:
  2681 00001B4A 55                              	PUSH	EBP
  2682 00001B4B 31 D2                           	XOR	EDX,EDX
  2683 00001B4D 89 E5                           	MOV	EBP,ESP
  2684 00001B4F 31 C9                           	XOR	ECX,ECX
  2685 00001B51 53                              	PUSH	EBX
  2686 00001B52 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  2687 00001B55 8A 03                           	MOV	AL,BYTE [EBX]
  2688 00001B57 84 C0                           	TEST	AL,AL
  2689 00001B59 74 12                           	JE	L521
  2690 00001B5B                                 L519:
  2691 00001B5B 6B D2 0A                        	IMUL	EDX,EDX,10
  2692 00001B5E 0F BE C0                        	MOVSX	EAX,AL
  2693 00001B61 41                              	INC	ECX
  2694 00001B62 8D 54 10 D0                     	LEA	EDX,DWORD [-48+EAX+EDX*1]
  2695 00001B66 8A 04 19                        	MOV	AL,BYTE [ECX+EBX*1]
  2696 00001B69 84 C0                           	TEST	AL,AL
  2697 00001B6B 75 EE                           	JNE	L519
  2698 00001B6D                                 L521:
  2699 00001B6D 5B                              	POP	EBX
  2700 00001B6E 89 D0                           	MOV	EAX,EDX
  2701 00001B70 5D                              	POP	EBP
  2702 00001B71 C3                              	RET
  2703                                          [SECTION .data]
  2704 0000024B                                 LC33:
  2705 0000024B 62 65 66 6F 72 65 20 61 6C 6C   	DB	"before alloc %d:",0x0A,0x00
       00000255 6F 63 20 25 64 3A 0A 00 
  2706 0000025D                                 LC35:
  2707 0000025D 0A 61 66 74 65 72 20 61 6C 6C   	DB	0x0A,"after alloc:",0x0A,0x00
       00000267 6F 63 3A 0A 00 
  2708 0000026C                                 LC36:
  2709 0000026C 0A 00                           	DB	0x0A,0x00
  2710 0000026E                                 LC34:
  2711 0000026E 4E 4F 2E 25 64 2D 73 69 7A 65   	DB	"NO.%d-size=%d  ",0x00
       00000278 3D 25 64 20 20 00 
  2712                                          [SECTION .text]
  2713 00001B72                                 	GLOBAL	_cmd_mymem
  2714 00001B72                                 _cmd_mymem:
  2715 00001B72 55                              	PUSH	EBP
  2716 00001B73 89 E5                           	MOV	EBP,ESP
  2717 00001B75 57                              	PUSH	EDI
  2718 00001B76 56                              	PUSH	ESI
  2719 00001B77 31 F6                           	XOR	ESI,ESI
  2720 00001B79 53                              	PUSH	EBX
  2721 00001B7A 81 EC 00000088                  	SUB	ESP,136
  2722 00001B80 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  2723 00001B83 E8 [00000000]                   	CALL	_task_now
  2724 00001B88 89 85 FFFFFF6C                  	MOV	DWORD [-148+EBP],EAX
  2725 00001B8E 80 3B 20                        	CMP	BYTE [EBX],32
  2726 00001B91 74 07                           	JE	L539
  2727 00001B93                                 L527:
  2728 00001B93 46                              	INC	ESI
  2729 00001B94 80 3C 1E 20                     	CMP	BYTE [ESI+EBX*1],32
  2730 00001B98 75 F9                           	JNE	L527
  2731 00001B9A                                 L539:
  2732 00001B9A 0F BE 44 1E 01                  	MOVSX	EAX,BYTE [1+ESI+EBX*1]
  2733 00001B9F 83 E8 30                        	SUB	EAX,48
  2734 00001BA2 89 85 FFFFFF70                  	MOV	DWORD [-144+EBP],EAX
  2735 00001BA8 8D 44 1E 03                     	LEA	EAX,DWORD [3+ESI+EBX*1]
  2736 00001BAC 50                              	PUSH	EAX
  2737 00001BAD 8D 5D E4                        	LEA	EBX,DWORD [-28+EBP]
  2738 00001BB0 53                              	PUSH	EBX
  2739 00001BB1 31 F6                           	XOR	ESI,ESI
  2740 00001BB3 E8 [00000000]                   	CALL	_strcpy
  2741 00001BB8 53                              	PUSH	EBX
  2742 00001BB9 8D 9D FFFFFF74                  	LEA	EBX,DWORD [-140+EBP]
  2743 00001BBF E8 FFFFFF86                     	CALL	_char2int
  2744 00001BC4 89 C7                           	MOV	EDI,EAX
  2745 00001BC6 50                              	PUSH	EAX
  2746 00001BC7 68 [0000024B]                   	PUSH	LC33
  2747 00001BCC 53                              	PUSH	EBX
  2748 00001BCD E8 [00000000]                   	CALL	_sprintf
  2749 00001BD2 8B 85 FFFFFF6C                  	MOV	EAX,DWORD [-148+EBP]
  2750 00001BD8 53                              	PUSH	EBX
  2751 00001BD9 FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2752 00001BDF E8 FFFFE8E4                     	CALL	_cons_putstr0
  2753 00001BE4 83 C4 20                        	ADD	ESP,32
  2754 00001BE7 3B 35 003C0000                  	CMP	ESI,DWORD [3932160]
  2755 00001BED 0F 8C 000000A6                  	JL	L532
  2756 00001BF3                                 L541:
  2757 00001BF3 FF B5 FFFFFF70                  	PUSH	DWORD [-144+EBP]
  2758 00001BF9 57                              	PUSH	EDI
  2759 00001BFA 31 F6                           	XOR	ESI,ESI
  2760 00001BFC 68 003C0000                     	PUSH	3932160
  2761 00001C01 E8 [00000000]                   	CALL	_memman_alloc
  2762 00001C06 68 [0000025D]                   	PUSH	LC35
  2763 00001C0B 8B 15 [00000000]                	MOV	EDX,DWORD [_num]
  2764 00001C11 89 04 95 [00000300]             	MOV	DWORD [_addrlist+EDX*4],EAX
  2765 00001C18 89 3C 95 [00000490]             	MOV	DWORD [_sizelist+EDX*4],EDI
  2766 00001C1F 8B 85 FFFFFF6C                  	MOV	EAX,DWORD [-148+EBP]
  2767 00001C25 42                              	INC	EDX
  2768 00001C26 89 15 [00000000]                	MOV	DWORD [_num],EDX
  2769 00001C2C FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2770 00001C32 E8 FFFFE891                     	CALL	_cons_putstr0
  2771 00001C37 83 C4 14                        	ADD	ESP,20
  2772 00001C3A 3B 35 003C0000                  	CMP	ESI,DWORD [3932160]
  2773 00001C40 7C 1E                           	JL	L537
  2774 00001C42                                 L543:
  2775 00001C42 8B 85 FFFFFF6C                  	MOV	EAX,DWORD [-148+EBP]
  2776 00001C48 68 [0000026C]                   	PUSH	LC36
  2777 00001C4D FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2778 00001C53 E8 FFFFE870                     	CALL	_cons_putstr0
  2779 00001C58 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  2780 00001C5B 5B                              	POP	EBX
  2781 00001C5C 5E                              	POP	ESI
  2782 00001C5D 5F                              	POP	EDI
  2783 00001C5E 5D                              	POP	EBP
  2784 00001C5F C3                              	RET
  2785 00001C60                                 L537:
  2786 00001C60 FF 34 F5 003C0014               	PUSH	DWORD [3932180+ESI*8]
  2787 00001C67 56                              	PUSH	ESI
  2788 00001C68 8D 9D FFFFFF74                  	LEA	EBX,DWORD [-140+EBP]
  2789 00001C6E 68 [0000026E]                   	PUSH	LC34
  2790 00001C73 46                              	INC	ESI
  2791 00001C74 53                              	PUSH	EBX
  2792 00001C75 E8 [00000000]                   	CALL	_sprintf
  2793 00001C7A 8B 85 FFFFFF6C                  	MOV	EAX,DWORD [-148+EBP]
  2794 00001C80 53                              	PUSH	EBX
  2795 00001C81 FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2796 00001C87 E8 FFFFE83C                     	CALL	_cons_putstr0
  2797 00001C8C 83 C4 18                        	ADD	ESP,24
  2798 00001C8F 3B 35 003C0000                  	CMP	ESI,DWORD [3932160]
  2799 00001C95 7C C9                           	JL	L537
  2800 00001C97 EB A9                           	JMP	L543
  2801 00001C99                                 L532:
  2802 00001C99 FF 34 F5 003C0014               	PUSH	DWORD [3932180+ESI*8]
  2803 00001CA0 56                              	PUSH	ESI
  2804 00001CA1 8D 9D FFFFFF74                  	LEA	EBX,DWORD [-140+EBP]
  2805 00001CA7 68 [0000026E]                   	PUSH	LC34
  2806 00001CAC 46                              	INC	ESI
  2807 00001CAD 53                              	PUSH	EBX
  2808 00001CAE E8 [00000000]                   	CALL	_sprintf
  2809 00001CB3 8B 85 FFFFFF6C                  	MOV	EAX,DWORD [-148+EBP]
  2810 00001CB9 53                              	PUSH	EBX
  2811 00001CBA FF B0 000000A4                  	PUSH	DWORD [164+EAX]
  2812 00001CC0 E8 FFFFE803                     	CALL	_cons_putstr0
  2813 00001CC5 83 C4 18                        	ADD	ESP,24
  2814 00001CC8 3B 35 003C0000                  	CMP	ESI,DWORD [3932160]
  2815 00001CCE 7C C9                           	JL	L532
  2816 00001CD0 E9 FFFFFF1E                     	JMP	L541
  2817 00001CD5                                 	GLOBAL	_cmd_free
  2818 00001CD5                                 _cmd_free:
  2819 00001CD5 55                              	PUSH	EBP
  2820 00001CD6 89 E5                           	MOV	EBP,ESP
  2821 00001CD8 53                              	PUSH	EBX
  2822 00001CD9 31 DB                           	XOR	EBX,EBX
  2823 00001CDB 3B 1D [00000000]                	CMP	EBX,DWORD [_num]
  2824 00001CE1 7C 05                           	JL	L549
  2825 00001CE3                                 L551:
  2826 00001CE3 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
  2827 00001CE6 C9                              	LEAVE
  2828 00001CE7 C3                              	RET
  2829 00001CE8                                 L549:
  2830 00001CE8 FF 34 9D [00000490]             	PUSH	DWORD [_sizelist+EBX*4]
  2831 00001CEF FF 34 9D [00000300]             	PUSH	DWORD [_addrlist+EBX*4]
  2832 00001CF6 68 003C0000                     	PUSH	3932160
  2833 00001CFB 43                              	INC	EBX
  2834 00001CFC E8 [00000000]                   	CALL	_memman_free
  2835 00001D01 83 C4 0C                        	ADD	ESP,12
  2836 00001D04 3B 1D [00000000]                	CMP	EBX,DWORD [_num]
  2837 00001D0A 7C DC                           	JL	L549
  2838 00001D0C EB D5                           	JMP	L551
  2839 00001D0E                                 	GLOBAL	_share
  2840                                          [SECTION .data]
  2841 0000027E 00 00                           	ALIGNB	4
  2842 00000280                                 _share:
  2843 00000280 00000000                        	DD	0
  2844 00000284                                 	GLOBAL	_sharenum
  2845 00000284                                 	ALIGNB	4
  2846 00000284                                 _sharenum:
  2847 00000284 00000000                        	DD	0
  2848 00000288                                 LC37:
  2849 00000288 73 68 61 72 65 3D 25 64 2C 62   	DB	"share=%d,but share+1=%d",0x0A,0x00
       00000292 75 74 20 73 68 61 72 65 2B 31 
       0000029C 3D 25 64 0A 00 
  2850                                          [SECTION .text]
  2851 00001D0E                                 	GLOBAL	_shareadd
  2852 00001D0E                                 _shareadd:
  2853 00001D0E 55                              	PUSH	EBP
  2854 00001D0F 89 E5                           	MOV	EBP,ESP
  2855 00001D11 56                              	PUSH	ESI
  2856 00001D12 53                              	PUSH	EBX
  2857 00001D13 83 EC 40                        	SUB	ESP,64
  2858 00001D16 A1 [00000284]                   	MOV	EAX,DWORD [_sharenum]
  2859 00001D1B 85 C0                           	TEST	EAX,EAX
  2860 00001D1D 75 0A                           	JNE	L553
  2861 00001D1F C7 05 [00000280] 00000000       	MOV	DWORD [_share],0
  2862 00001D29                                 L553:
  2863 00001D29 40                              	INC	EAX
  2864 00001D2A A3 [00000284]                   	MOV	DWORD [_sharenum],EAX
  2865 00001D2F 48                              	DEC	EAX
  2866 00001D30 7E 55                           	JLE	L557
  2867 00001D32                                 L558:
  2868 00001D32 8B 35 [00000280]                	MOV	ESI,DWORD [_share]
  2869 00001D38 E8 [00000000]                   	CALL	_io_load_eflags
  2870 00001D3D 89 C3                           	MOV	EBX,EAX
  2871 00001D3F E8 [00000000]                   	CALL	_io_cli
  2872 00001D44 53                              	PUSH	EBX
  2873 00001D45 FF 05 [00000280]                	INC	DWORD [_share]
  2874 00001D4B E8 [00000000]                   	CALL	_io_store_eflags
  2875 00001D50 59                              	POP	ECX
  2876 00001D51 8B 15 [00000280]                	MOV	EDX,DWORD [_share]
  2877 00001D57 89 D0                           	MOV	EAX,EDX
  2878 00001D59 29 F0                           	SUB	EAX,ESI
  2879 00001D5B 48                              	DEC	EAX
  2880 00001D5C 7E D4                           	JLE	L558
  2881 00001D5E 52                              	PUSH	EDX
  2882 00001D5F 8D 5D B8                        	LEA	EBX,DWORD [-72+EBP]
  2883 00001D62 56                              	PUSH	ESI
  2884 00001D63 68 [00000288]                   	PUSH	LC37
  2885 00001D68 53                              	PUSH	EBX
  2886 00001D69 E8 [00000000]                   	CALL	_sprintf
  2887 00001D6E 53                              	PUSH	EBX
  2888 00001D6F FF 75 08                        	PUSH	DWORD [8+EBP]
  2889 00001D72 E8 FFFFE751                     	CALL	_cons_putstr0
  2890 00001D77 83 C4 18                        	ADD	ESP,24
  2891 00001D7A FF 0D [00000284]                	DEC	DWORD [_sharenum]
  2892 00001D80 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
  2893 00001D83 5B                              	POP	EBX
  2894 00001D84 5E                              	POP	ESI
  2895 00001D85 5D                              	POP	EBP
  2896 00001D86 C3                              	RET
  2897 00001D87                                 L557:
  2898 00001D87 E8 [00000000]                   	CALL	_task_now
  2899 00001D8C 83 3D [00000284] 01             	CMP	DWORD [_sharenum],1
  2900 00001D93 C7 40 04 00000002               	MOV	DWORD [4+EAX],2
  2901 00001D9A 7E EB                           	JLE	L557
  2902 00001D9C EB 94                           	JMP	L558
  2903 00001D9E                                 	GLOBAL	_producer
  2904                                          [SECTION .data]
  2905 000002A1 00 00 00                        	ALIGNB	4
  2906 000002A4                                 _producer:
  2907 000002A4 00000000                        	DD	0
  2908 000002A8                                 	GLOBAL	_consumer
  2909 000002A8                                 	ALIGNB	4
  2910 000002A8                                 _consumer:
  2911 000002A8 00000001                        	DD	1
  2912 000002AC                                 	GLOBAL	_flag
  2913 000002AC                                 	ALIGNB	4
  2914 000002AC                                 _flag:
  2915 000002AC 00000000                        	DD	0
  2916 000002B0 00000000                        	DD	0
  2917 000002B4                                 	GLOBAL	_in
  2918 000002B4                                 	ALIGNB	4
  2919 000002B4                                 _in:
  2920 000002B4 00000000                        	DD	0
  2921 000002B8                                 	GLOBAL	_out
  2922 000002B8                                 	ALIGNB	4
  2923 000002B8                                 _out:
  2924 000002B8 00000000                        	DD	0
  2925 000002BC                                 	GLOBAL	_counter
  2926 000002BC                                 	ALIGNB	4
  2927 000002BC                                 _counter:
  2928 000002BC 00000000                        	DD	0
  2929 000002C0                                 	GLOBAL	_xnum
  2930 000002C0                                 	ALIGNB	4
  2931 000002C0                                 _xnum:
  2932 000002C0 00000000                        	DD	0
  2933 000002C4                                 LC38:
  2934 000002C4 69 6E 20 62 75 66 66 65 72 20   	DB	"in buffer %d,produce %d",0x0A,0x00
       000002CE 25 64 2C 70 72 6F 64 75 63 65 
       000002D8 20 25 64 0A 00 
  2935                                          [SECTION .text]
  2936 00001D9E                                 	GLOBAL	_produce
  2937 00001D9E                                 _produce:
  2938 00001D9E 55                              	PUSH	EBP
  2939 00001D9F 89 E5                           	MOV	EBP,ESP
  2940 00001DA1 57                              	PUSH	EDI
  2941 00001DA2 56                              	PUSH	ESI
  2942 00001DA3 53                              	PUSH	EBX
  2943 00001DA4 83 EC 0C                        	SUB	ESP,12
  2944 00001DA7 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
  2945 00001DAA E8 [00000000]                   	CALL	_task_now
  2946 00001DAF                                 L576:
  2947 00001DAF 83 3D [000002BC] 64             	CMP	DWORD [_counter],100
  2948 00001DB6 0F 84 000000AE                  	JE	L570
  2949 00001DBC                                 L578:
  2950 00001DBC BA [000002AC]                   	MOV	EDX,_flag
  2951 00001DC1 A1 [000002A4]                   	MOV	EAX,DWORD [_producer]
  2952 00001DC6 C7 04 82 00000001               	MOV	DWORD [EDX+EAX*4],1
  2953 00001DCD A1 [000002A8]                   	MOV	EAX,DWORD [_consumer]
  2954 00001DD2 A3 [00000620]                   	MOV	DWORD [_turn],EAX
  2955 00001DD7 83 3C 82 01                     	CMP	DWORD [EDX+EAX*4],1
  2956 00001DDB 74 6B                           	JE	L581
  2957 00001DDD                                 L572:
  2958 00001DDD A1 [000002B4]                   	MOV	EAX,DWORD [_in]
  2959 00001DE2 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  2960 00001DE5 E8 [00000000]                   	CALL	_rand
  2961 00001DEA 8B 15 [000002B4]                	MOV	EDX,DWORD [_in]
  2962 00001DF0 FF 05 [000002BC]                	INC	DWORD [_counter]
  2963 00001DF6 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
  2964 00001DF9 8D 4A 01                        	LEA	ECX,DWORD [1+EDX]
  2965 00001DFC 89 04 95 [00000630]             	MOV	DWORD [_buffer+EDX*4],EAX
  2966 00001E03 89 C8                           	MOV	EAX,ECX
  2967 00001E05 BA 00000064                     	MOV	EDX,100
  2968 00001E0A 89 D3                           	MOV	EBX,EDX
  2969 00001E0C 99                              	CDQ
  2970 00001E0D F7 FB                           	IDIV	EBX
  2971 00001E0F 8B 5D EC                        	MOV	EBX,DWORD [-20+EBP]
  2972 00001E12 89 15 [000002B4]                	MOV	DWORD [_in],EDX
  2973 00001E18 FF 75 E8                        	PUSH	DWORD [-24+EBP]
  2974 00001E1B 43                              	INC	EBX
  2975 00001E1C 8B 15 [000002A4]                	MOV	EDX,DWORD [_producer]
  2976 00001E22 53                              	PUSH	EBX
  2977 00001E23 68 [000002C4]                   	PUSH	LC38
  2978 00001E28 56                              	PUSH	ESI
  2979 00001E29 C7 04 95 [000002AC] 00000000    	MOV	DWORD [_flag+EDX*4],0
  2980 00001E34 E8 [00000000]                   	CALL	_sprintf
  2981 00001E39 56                              	PUSH	ESI
  2982 00001E3A 57                              	PUSH	EDI
  2983 00001E3B E8 FFFFE688                     	CALL	_cons_putstr0
  2984 00001E40 83 C4 18                        	ADD	ESP,24
  2985 00001E43 E9 FFFFFF67                     	JMP	L576
  2986 00001E48                                 L581:
  2987 00001E48 8B 15 [000002C0]                	MOV	EDX,DWORD [_xnum]
  2988 00001E4E 89 C1                           	MOV	ECX,EAX
  2989 00001E50                                 L575:
  2990 00001E50 42                              	INC	EDX
  2991 00001E51 83 3C 85 [000002AC] 01          	CMP	DWORD [_flag+EAX*4],1
  2992 00001E59 75 04                           	JNE	L580
  2993 00001E5B 39 C1                           	CMP	ECX,EAX
  2994 00001E5D 74 F1                           	JE	L575
  2995 00001E5F                                 L580:
  2996 00001E5F 89 15 [000002C0]                	MOV	DWORD [_xnum],EDX
  2997 00001E65 E9 FFFFFF73                     	JMP	L572
  2998 00001E6A                                 L570:
  2999 00001E6A E8 [00000000]                   	CALL	_task_now
  3000 00001E6F 83 3D [000002BC] 64             	CMP	DWORD [_counter],100
  3001 00001E76 C7 40 04 00000002               	MOV	DWORD [4+EAX],2
  3002 00001E7D 74 EB                           	JE	L570
  3003 00001E7F E9 FFFFFF38                     	JMP	L578
  3004                                          [SECTION .data]
  3005 000002DD                                 LC39:
  3006 000002DD 69 6E 20 62 75 66 66 65 72 20   	DB	"in buffer %d,consume %d",0x0A,0x00
       000002E7 25 64 2C 63 6F 6E 73 75 6D 65 
       000002F1 20 25 64 0A 00 
  3007                                          [SECTION .text]
  3008 00001E84                                 	GLOBAL	_consume
  3009 00001E84                                 _consume:
  3010 00001E84 55                              	PUSH	EBP
  3011 00001E85 89 E5                           	MOV	EBP,ESP
  3012 00001E87 57                              	PUSH	EDI
  3013 00001E88 56                              	PUSH	ESI
  3014 00001E89 53                              	PUSH	EBX
  3015 00001E8A 53                              	PUSH	EBX
  3016 00001E8B 53                              	PUSH	EBX
  3017 00001E8C                                 L595:
  3018 00001E8C 83 3D [000002BC] 00             	CMP	DWORD [_counter],0
  3019 00001E93 75 15                           	JNE	L597
  3020 00001E95                                 L589:
  3021 00001E95 E8 [00000000]                   	CALL	_task_now
  3022 00001E9A 83 3D [000002BC] 00             	CMP	DWORD [_counter],0
  3023 00001EA1 C7 40 04 00000002               	MOV	DWORD [4+EAX],2
  3024 00001EA8 74 EB                           	JE	L589
  3025 00001EAA                                 L597:
  3026 00001EAA B8 [000002AC]                   	MOV	EAX,_flag
  3027 00001EAF 8B 35 [000002A8]                	MOV	ESI,DWORD [_consumer]
  3028 00001EB5 8B 15 [000002A4]                	MOV	EDX,DWORD [_producer]
  3029 00001EBB C7 04 B0 00000001               	MOV	DWORD [EAX+ESI*4],1
  3030 00001EC2 89 15 [00000620]                	MOV	DWORD [_turn],EDX
  3031 00001EC8 83 3C 90 01                     	CMP	DWORD [EAX+EDX*4],1
  3032 00001ECC 74 54                           	JE	L600
  3033 00001ECE                                 L591:
  3034 00001ECE 8B 0D [000002B8]                	MOV	ECX,DWORD [_out]
  3035 00001ED4 BA 00000064                     	MOV	EDX,100
  3036 00001ED9 89 D3                           	MOV	EBX,EDX
  3037 00001EDB FF 0D [000002BC]                	DEC	DWORD [_counter]
  3038 00001EE1 8B 04 8D [00000630]             	MOV	EAX,DWORD [_buffer+ECX*4]
  3039 00001EE8 41                              	INC	ECX
  3040 00001EE9 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  3041 00001EEC 89 C8                           	MOV	EAX,ECX
  3042 00001EEE 99                              	CDQ
  3043 00001EEF F7 FB                           	IDIV	EBX
  3044 00001EF1 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  3045 00001EF4 51                              	PUSH	ECX
  3046 00001EF5 89 15 [000002B8]                	MOV	DWORD [_out],EDX
  3047 00001EFB 68 [000002DD]                   	PUSH	LC39
  3048 00001F00 57                              	PUSH	EDI
  3049 00001F01 C7 04 B5 [000002AC] 00000000    	MOV	DWORD [_flag+ESI*4],0
  3050 00001F0C E8 [00000000]                   	CALL	_sprintf
  3051 00001F11 57                              	PUSH	EDI
  3052 00001F12 FF 75 08                        	PUSH	DWORD [8+EBP]
  3053 00001F15 E8 FFFFE5AE                     	CALL	_cons_putstr0
  3054 00001F1A 83 C4 18                        	ADD	ESP,24
  3055 00001F1D E9 FFFFFF6A                     	JMP	L595
  3056 00001F22                                 L600:
  3057 00001F22 A1 [000002C0]                   	MOV	EAX,DWORD [_xnum]
  3058 00001F27 89 D1                           	MOV	ECX,EDX
  3059 00001F29                                 L594:
  3060 00001F29 40                              	INC	EAX
  3061 00001F2A 83 3C 95 [000002AC] 01          	CMP	DWORD [_flag+EDX*4],1
  3062 00001F32 75 04                           	JNE	L599
  3063 00001F34 39 D1                           	CMP	ECX,EDX
  3064 00001F36 74 F1                           	JE	L594
  3065 00001F38                                 L599:
  3066 00001F38 A3 [000002C0]                   	MOV	DWORD [_xnum],EAX
  3067 00001F3D EB 8F                           	JMP	L591
  3068 00001F3F                                 	GLOBAL	_entrance
  3069 00001F3F                                 _entrance:
  3070 00001F3F 55                              	PUSH	EBP
  3071 00001F40 89 E5                           	MOV	EBP,ESP
  3072 00001F42 53                              	PUSH	EBX
  3073 00001F43 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
  3074 00001F46 83 FB 01                        	CMP	EBX,1
  3075 00001F49 74 47                           	JE	L618
  3076 00001F4B                                 L602:
  3077 00001F4B 85 DB                           	TEST	EBX,EBX
  3078 00001F4D 75 21                           	JNE	L601
  3079 00001F4F BA [000002AC]                   	MOV	EDX,_flag
  3080 00001F54 A1 [000002A4]                   	MOV	EAX,DWORD [_producer]
  3081 00001F59 C7 04 82 00000001               	MOV	DWORD [EDX+EAX*4],1
  3082 00001F60 A1 [000002A8]                   	MOV	EAX,DWORD [_consumer]
  3083 00001F65 A3 [00000620]                   	MOV	DWORD [_turn],EAX
  3084 00001F6A 83 3C 82 01                     	CMP	DWORD [EDX+EAX*4],1
  3085 00001F6E 74 03                           	JE	L619
  3086 00001F70                                 L601:
  3087 00001F70 5B                              	POP	EBX
  3088 00001F71 5D                              	POP	EBP
  3089 00001F72 C3                              	RET
  3090 00001F73                                 L619:
  3091 00001F73 8B 15 [000002C0]                	MOV	EDX,DWORD [_xnum]
  3092 00001F79 89 C1                           	MOV	ECX,EAX
  3093 00001F7B                                 L613:
  3094 00001F7B 42                              	INC	EDX
  3095 00001F7C 83 3C 85 [000002AC] 01          	CMP	DWORD [_flag+EAX*4],1
  3096 00001F84 75 04                           	JNE	L616
  3097 00001F86 39 C1                           	CMP	ECX,EAX
  3098 00001F88 74 F1                           	JE	L613
  3099 00001F8A                                 L616:
  3100 00001F8A 89 15 [000002C0]                	MOV	DWORD [_xnum],EDX
  3101 00001F90 EB DE                           	JMP	L601
  3102 00001F92                                 L618:
  3103 00001F92 BA [000002AC]                   	MOV	EDX,_flag
  3104 00001F97 A1 [000002A8]                   	MOV	EAX,DWORD [_consumer]
  3105 00001F9C C7 04 82 00000001               	MOV	DWORD [EDX+EAX*4],1
  3106 00001FA3 A1 [000002A4]                   	MOV	EAX,DWORD [_producer]
  3107 00001FA8 A3 [00000620]                   	MOV	DWORD [_turn],EAX
  3108 00001FAD 83 3C 82 01                     	CMP	DWORD [EDX+EAX*4],1
  3109 00001FB1 75 98                           	JNE	L602
  3110 00001FB3 8B 15 [000002C0]                	MOV	EDX,DWORD [_xnum]
  3111 00001FB9 89 C1                           	MOV	ECX,EAX
  3112 00001FBB                                 L607:
  3113 00001FBB 42                              	INC	EDX
  3114 00001FBC 83 3C 85 [000002AC] 01          	CMP	DWORD [_flag+EAX*4],1
  3115 00001FC4 75 04                           	JNE	L617
  3116 00001FC6 39 C1                           	CMP	ECX,EAX
  3117 00001FC8 74 F1                           	JE	L607
  3118 00001FCA                                 L617:
  3119 00001FCA 89 15 [000002C0]                	MOV	DWORD [_xnum],EDX
  3120 00001FD0 E9 FFFFFF76                     	JMP	L602
  3121 00001FD5                                 	GLOBAL	_exiting
  3122 00001FD5                                 _exiting:
  3123 00001FD5 55                              	PUSH	EBP
  3124 00001FD6 89 E5                           	MOV	EBP,ESP
  3125 00001FD8 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  3126 00001FDB 83 FA 01                        	CMP	EDX,1
  3127 00001FDE 74 16                           	JE	L623
  3128 00001FE0                                 L621:
  3129 00001FE0 85 D2                           	TEST	EDX,EDX
  3130 00001FE2 75 10                           	JNE	L620
  3131 00001FE4 A1 [000002A4]                   	MOV	EAX,DWORD [_producer]
  3132 00001FE9 C7 04 85 [000002AC] 00000000    	MOV	DWORD [_flag+EAX*4],0
  3133 00001FF4                                 L620:
  3134 00001FF4 5D                              	POP	EBP
  3135 00001FF5 C3                              	RET
  3136 00001FF6                                 L623:
  3137 00001FF6 A1 [000002A8]                   	MOV	EAX,DWORD [_consumer]
  3138 00001FFB C7 04 85 [000002AC] 00000000    	MOV	DWORD [_flag+EAX*4],0
  3139 00002006 EB D8                           	JMP	L621
  3140 00002008                                 	GLOBAL	_addrlist
  3141                                          [SECTION .data]
  3142 000002F6 00 00 00 00 00 00 00 00 00 00   	ALIGNB	16
  3143 00000300                                 _addrlist:
  3144 00000300 00 00 00 00 00 00 00 00 00 00   	RESB	400
       0000030A 00 00 00 00 00 00 00 00 00 00 
       00000314 00 00 00 00 00 00 00 00 00 00 
       0000031E 00 00 00 00 00 00 00 00 00 00 
       00000328 00 00 00 00 00 00 00 00 00 00 
       00000332 00 00 00 00 00 00 00 00 00 00 
       0000033C 00 00 00 00 00 00 00 00 00 00 
       00000346 00 00 00 00 00 00 00 00 00 00 
       00000350 00 00 00 00 00 00 00 00 00 00 
       0000035A 00 00 00 00 00 00 00 00 00 00 
       00000364 00 00 00 00 00 00 00 00 00 00 
       0000036E 00 00 00 00 00 00 00 00 00 00 
       00000378 00 00 00 00 00 00 00 00 00 00 
       00000382 00 00 00 00 00 00 00 00 00 00 
       0000038C 00 00 00 00 00 00 00 00 00 00 
       00000396 00 00 00 00 00 00 00 00 00 00 
       000003A0 00 00 00 00 00 00 00 00 00 00 
       000003AA 00 00 00 00 00 00 00 00 00 00 
       000003B4 00 00 00 00 00 00 00 00 00 00 
       000003BE 00 00 00 00 00 00 00 00 00 00 
       000003C8 00 00 00 00 00 00 00 00 00 00 
       000003D2 00 00 00 00 00 00 00 00 00 00 
       000003DC 00 00 00 00 00 00 00 00 00 00 
       000003E6 00 00 00 00 00 00 00 00 00 00 
       000003F0 00 00 00 00 00 00 00 00 00 00 
       000003FA 00 00 00 00 00 00 00 00 00 00 
       00000404 00 00 00 00 00 00 00 00 00 00 
       0000040E 00 00 00 00 00 00 00 00 00 00 
       00000418 00 00 00 00 00 00 00 00 00 00 
       00000422 00 00 00 00 00 00 00 00 00 00 
       0000042C 00 00 00 00 00 00 00 00 00 00 
       00000436 00 00 00 00 00 00 00 00 00 00 
       00000440 00 00 00 00 00 00 00 00 00 00 
       0000044A 00 00 00 00 00 00 00 00 00 00 
       00000454 00 00 00 00 00 00 00 00 00 00 
       0000045E 00 00 00 00 00 00 00 00 00 00 
       00000468 00 00 00 00 00 00 00 00 00 00 
       00000472 00 00 00 00 00 00 00 00 00 00 
       0000047C 00 00 00 00 00 00 00 00 00 00 
       00000486 00 00 00 00 00 00 00 00 00 00 
  3145 00000490                                 	GLOBAL	_sizelist
  3146                                          [SECTION .data]
  3147 00000490                                 	ALIGNB	16
  3148 00000490                                 _sizelist:
  3149 00000490 00 00 00 00 00 00 00 00 00 00   	RESB	400
       0000049A 00 00 00 00 00 00 00 00 00 00 
       000004A4 00 00 00 00 00 00 00 00 00 00 
       000004AE 00 00 00 00 00 00 00 00 00 00 
       000004B8 00 00 00 00 00 00 00 00 00 00 
       000004C2 00 00 00 00 00 00 00 00 00 00 
       000004CC 00 00 00 00 00 00 00 00 00 00 
       000004D6 00 00 00 00 00 00 00 00 00 00 
       000004E0 00 00 00 00 00 00 00 00 00 00 
       000004EA 00 00 00 00 00 00 00 00 00 00 
       000004F4 00 00 00 00 00 00 00 00 00 00 
       000004FE 00 00 00 00 00 00 00 00 00 00 
       00000508 00 00 00 00 00 00 00 00 00 00 
       00000512 00 00 00 00 00 00 00 00 00 00 
       0000051C 00 00 00 00 00 00 00 00 00 00 
       00000526 00 00 00 00 00 00 00 00 00 00 
       00000530 00 00 00 00 00 00 00 00 00 00 
       0000053A 00 00 00 00 00 00 00 00 00 00 
       00000544 00 00 00 00 00 00 00 00 00 00 
       0000054E 00 00 00 00 00 00 00 00 00 00 
       00000558 00 00 00 00 00 00 00 00 00 00 
       00000562 00 00 00 00 00 00 00 00 00 00 
       0000056C 00 00 00 00 00 00 00 00 00 00 
       00000576 00 00 00 00 00 00 00 00 00 00 
       00000580 00 00 00 00 00 00 00 00 00 00 
       0000058A 00 00 00 00 00 00 00 00 00 00 
       00000594 00 00 00 00 00 00 00 00 00 00 
       0000059E 00 00 00 00 00 00 00 00 00 00 
       000005A8 00 00 00 00 00 00 00 00 00 00 
       000005B2 00 00 00 00 00 00 00 00 00 00 
       000005BC 00 00 00 00 00 00 00 00 00 00 
       000005C6 00 00 00 00 00 00 00 00 00 00 
       000005D0 00 00 00 00 00 00 00 00 00 00 
       000005DA 00 00 00 00 00 00 00 00 00 00 
       000005E4 00 00 00 00 00 00 00 00 00 00 
       000005EE 00 00 00 00 00 00 00 00 00 00 
       000005F8 00 00 00 00 00 00 00 00 00 00 
       00000602 00 00 00 00 00 00 00 00 00 00 
       0000060C 00 00 00 00 00 00 00 00 00 00 
       00000616 00 00 00 00 00 00 00 00 00 00 
  3150 00000620                                 	GLOBAL	_turn
  3151                                          [SECTION .data]
  3152 00000620                                 	ALIGNB	4
  3153 00000620                                 _turn:
  3154 00000620 00 00 00 00                     	RESB	4
  3155 00000624                                 	GLOBAL	_buffer
  3156                                          [SECTION .data]
  3157 00000624 00 00 00 00 00 00 00 00 00 00   	ALIGNB	16
       0000062E 00 00 
  3158 00000630                                 _buffer:
  3159 00000630 00 00 00 00 00 00 00 00 00 00   	RESB	400
       0000063A 00 00 00 00 00 00 00 00 00 00 
       00000644 00 00 00 00 00 00 00 00 00 00 
       0000064E 00 00 00 00 00 00 00 00 00 00 
       00000658 00 00 00 00 00 00 00 00 00 00 
       00000662 00 00 00 00 00 00 00 00 00 00 
       0000066C 00 00 00 00 00 00 00 00 00 00 
       00000676 00 00 00 00 00 00 00 00 00 00 
       00000680 00 00 00 00 00 00 00 00 00 00 
       0000068A 00 00 00 00 00 00 00 00 00 00 
       00000694 00 00 00 00 00 00 00 00 00 00 
       0000069E 00 00 00 00 00 00 00 00 00 00 
       000006A8 00 00 00 00 00 00 00 00 00 00 
       000006B2 00 00 00 00 00 00 00 00 00 00 
       000006BC 00 00 00 00 00 00 00 00 00 00 
       000006C6 00 00 00 00 00 00 00 00 00 00 
       000006D0 00 00 00 00 00 00 00 00 00 00 
       000006DA 00 00 00 00 00 00 00 00 00 00 
       000006E4 00 00 00 00 00 00 00 00 00 00 
       000006EE 00 00 00 00 00 00 00 00 00 00 
       000006F8 00 00 00 00 00 00 00 00 00 00 
       00000702 00 00 00 00 00 00 00 00 00 00 
       0000070C 00 00 00 00 00 00 00 00 00 00 
       00000716 00 00 00 00 00 00 00 00 00 00 
       00000720 00 00 00 00 00 00 00 00 00 00 
       0000072A 00 00 00 00 00 00 00 00 00 00 
       00000734 00 00 00 00 00 00 00 00 00 00 
       0000073E 00 00 00 00 00 00 00 00 00 00 
       00000748 00 00 00 00 00 00 00 00 00 00 
       00000752 00 00 00 00 00 00 00 00 00 00 
       0000075C 00 00 00 00 00 00 00 00 00 00 
       00000766 00 00 00 00 00 00 00 00 00 00 
       00000770 00 00 00 00 00 00 00 00 00 00 
       0000077A 00 00 00 00 00 00 00 00 00 00 
       00000784 00 00 00 00 00 00 00 00 00 00 
       0000078E 00 00 00 00 00 00 00 00 00 00 
       00000798 00 00 00 00 00 00 00 00 00 00 
       000007A2 00 00 00 00 00 00 00 00 00 00 
       000007AC 00 00 00 00 00 00 00 00 00 00 
       000007B6 00 00 00 00 00 00 00 00 00 00 
